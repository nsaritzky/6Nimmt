(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ti={exports:{}},F={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Qa=Object.getOwnPropertySymbols,np=Object.prototype.hasOwnProperty,rp=Object.prototype.propertyIsEnumerable;function ip(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function sp(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Cl=sp()?Object.assign:function(e,t){for(var n,r=ip(e),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)np.call(n,o)&&(r[o]=n[o]);if(Qa){i=Qa(n);for(var l=0;l<i.length;l++)rp.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xl=Cl,zn=60103,Hc=60106;F.Fragment=60107;F.StrictMode=60108;F.Profiler=60114;var Gc=60109,Wc=60110,Kc=60112;F.Suspense=60113;var Yc=60115,qc=60116;if(typeof Symbol=="function"&&Symbol.for){var Ve=Symbol.for;zn=Ve("react.element"),Hc=Ve("react.portal"),F.Fragment=Ve("react.fragment"),F.StrictMode=Ve("react.strict_mode"),F.Profiler=Ve("react.profiler"),Gc=Ve("react.provider"),Wc=Ve("react.context"),Kc=Ve("react.forward_ref"),F.Suspense=Ve("react.suspense"),Yc=Ve("react.memo"),qc=Ve("react.lazy")}var Ja=typeof Symbol=="function"&&Symbol.iterator;function op(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}function ni(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc={};function $n(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}$n.prototype.isReactComponent={};$n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ni(85));this.updater.enqueueSetState(this,e,t,"setState")};$n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=$n.prototype;function Ol(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}var Nl=Ol.prototype=new Xc;Nl.constructor=Ol;xl(Nl,$n.prototype);Nl.isPureReactComponent=!0;var Ml={current:null},Zc=Object.prototype.hasOwnProperty,ef={key:!0,ref:!0,__self:!0,__source:!0};function tf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Zc.call(t,r)&&!ef.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:zn,type:e,key:s,ref:o,props:i,_owner:Ml.current}}function lp(e,t){return{$$typeof:zn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Il(e){return typeof e=="object"&&e!==null&&e.$$typeof===zn}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xa=/\/+/g;function Vs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function Mi(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zn:case Hc:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Vs(o,0):r,Array.isArray(i)?(n="",e!=null&&(n=e.replace(Xa,"$&/")+"/"),Mi(i,t,n,"",function(u){return u})):i!=null&&(Il(i)&&(i=lp(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xa,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Vs(s,l);o+=Mi(s,t,n,a,i)}else if(a=op(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Vs(s,l++),o+=Mi(s,t,n,a,i);else if(s==="object")throw t=""+e,Error(ni(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return o}function fi(e,t,n){if(e==null)return e;var r=[],i=0;return Mi(e,r,"","",function(s){return t.call(n,s,i++)}),r}function up(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var nf={current:null};function vt(){var e=nf.current;if(e===null)throw Error(ni(321));return e}var cp={ReactCurrentDispatcher:nf,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ml,IsSomeRendererActing:{current:!1},assign:xl};F.Children={map:fi,forEach:function(e,t,n){fi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fi(e,function(){t++}),t},toArray:function(e){return fi(e,function(t){return t})||[]},only:function(e){if(!Il(e))throw Error(ni(143));return e}};F.Component=$n;F.PureComponent=Ol;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp;F.cloneElement=function(e,t,n){if(e==null)throw Error(ni(267,e));var r=xl({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ml.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Zc.call(t,a)&&!ef.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zn,type:e.type,key:i,ref:s,props:r,_owner:o}};F.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:Wc,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:Gc,_context:e},e.Consumer=e};F.createElement=tf;F.createFactory=function(e){var t=tf.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Kc,render:e}};F.isValidElement=Il;F.lazy=function(e){return{$$typeof:qc,_payload:{_status:-1,_result:e},_init:up}};F.memo=function(e,t){return{$$typeof:Yc,type:e,compare:t===void 0?null:t}};F.useCallback=function(e,t){return vt().useCallback(e,t)};F.useContext=function(e,t){return vt().useContext(e,t)};F.useDebugValue=function(){};F.useEffect=function(e,t){return vt().useEffect(e,t)};F.useImperativeHandle=function(e,t,n){return vt().useImperativeHandle(e,t,n)};F.useLayoutEffect=function(e,t){return vt().useLayoutEffect(e,t)};F.useMemo=function(e,t){return vt().useMemo(e,t)};F.useReducer=function(e,t,n){return vt().useReducer(e,t,n)};F.useRef=function(e){return vt().useRef(e)};F.useState=function(e){return vt().useState(e)};F.version="17.0.2";(function(e){e.exports=F})(ti);const ht=tp(ti.exports);var rf={exports:{}},$e={},sf={exports:{}},of={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var a=null,u=null,h=function(){if(a!==null)try{var x=e.unstable_now();a(!0,x),a=null}catch(D){throw setTimeout(h,0),D}};t=function(x){a!==null?setTimeout(t,0,x):(a=x,setTimeout(h,0))},n=function(x,D){u=setTimeout(x,D)},r=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var g=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var S=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof S!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,E=null,d=-1,c=5,f=0;e.unstable_shouldYield=function(){return e.unstable_now()>=f},i=function(){},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):c=0<x?Math.floor(1e3/x):5};var y=new MessageChannel,v=y.port2;y.port1.onmessage=function(){if(E!==null){var x=e.unstable_now();f=x+c;try{E(!0,x)?v.postMessage(null):(_=!1,E=null)}catch(D){throw v.postMessage(null),D}}else _=!1},t=function(x){E=x,_||(_=!0,v.postMessage(null))},n=function(x,D){d=g(function(){x(e.unstable_now())},D)},r=function(){m(d),d=-1}}function M(x,D){var B=x.length;x.push(D);e:for(;;){var K=B-1>>>1,Y=x[K];if(Y!==void 0&&0<b(Y,D))x[K]=D,x[B]=Y,B=K;else break e}}function C(x){return x=x[0],x===void 0?null:x}function T(x){var D=x[0];if(D!==void 0){var B=x.pop();if(B!==D){x[0]=B;e:for(var K=0,Y=x.length;K<Y;){var ae=2*(K+1)-1,lt=x[ae],Kt=ae+1,p=x[Kt];if(lt!==void 0&&0>b(lt,B))p!==void 0&&0>b(p,lt)?(x[K]=p,x[Kt]=B,K=Kt):(x[K]=lt,x[ae]=B,K=ae);else if(p!==void 0&&0>b(p,B))x[K]=p,x[Kt]=B,K=Kt;else break e}}return D}return null}function b(x,D){var B=x.sortIndex-D.sortIndex;return B!==0?B:x.id-D.id}var I=[],ie=[],Gt=1,te=null,Z=3,wt=!1,qe=!1,Wt=!1;function Jn(x){for(var D=C(ie);D!==null;){if(D.callback===null)T(ie);else if(D.startTime<=x)T(ie),D.sortIndex=D.expirationTime,M(I,D);else break;D=C(ie)}}function Xn(x){if(Wt=!1,Jn(x),!qe)if(C(I)!==null)qe=!0,t(Zn);else{var D=C(ie);D!==null&&n(Xn,D.startTime-x)}}function Zn(x,D){qe=!1,Wt&&(Wt=!1,r()),wt=!0;var B=Z;try{for(Jn(D),te=C(I);te!==null&&(!(te.expirationTime>D)||x&&!e.unstable_shouldYield());){var K=te.callback;if(typeof K=="function"){te.callback=null,Z=te.priorityLevel;var Y=K(te.expirationTime<=D);D=e.unstable_now(),typeof Y=="function"?te.callback=Y:te===C(I)&&T(I),Jn(D)}else T(I);te=C(I)}if(te!==null)var ae=!0;else{var lt=C(ie);lt!==null&&n(Xn,lt.startTime-D),ae=!1}return ae}finally{te=null,Z=B,wt=!1}}var Fs=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){qe||wt||(qe=!0,t(Zn))},e.unstable_getCurrentPriorityLevel=function(){return Z},e.unstable_getFirstCallbackNode=function(){return C(I)},e.unstable_next=function(x){switch(Z){case 1:case 2:case 3:var D=3;break;default:D=Z}var B=Z;Z=D;try{return x()}finally{Z=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Fs,e.unstable_runWithPriority=function(x,D){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var B=Z;Z=x;try{return D()}finally{Z=B}},e.unstable_scheduleCallback=function(x,D,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,x){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,x={id:Gt++,callback:D,priorityLevel:x,startTime:B,expirationTime:Y,sortIndex:-1},B>K?(x.sortIndex=B,M(ie,x),C(I)===null&&x===C(ie)&&(Wt?r():Wt=!0,n(Xn,B-K))):(x.sortIndex=Y,M(I,x),qe||wt||(qe=!0,t(Zn))),x},e.unstable_wrapCallback=function(x){var D=Z;return function(){var B=Z;Z=D;try{return x.apply(this,arguments)}finally{Z=B}}}})(of);(function(e){e.exports=of})(sf);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=ti.exports,W=Cl,le=sf.exports;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!gs)throw Error(k(227));var lf=new Set,jr={};function dn(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(jr[e]=t,e=0;e<t.length;e++)lf.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Za=Object.prototype.hasOwnProperty,eu={},tu={};function dp(e){return Za.call(tu,e)?!0:Za.call(eu,e)?!1:fp.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function hp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pp(e,t,n,r){if(t===null||typeof t>"u"||hp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ke(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tl=/[\-:]([a-z])/g;function Al(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tl,Al);he[t]=new ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tl,Al);he[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tl,Al);he[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dl(e,t,n,r){var i=he.hasOwnProperty(t)?he[t]:null,s=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");s||(pp(t,n,i,r)&&(n=null),r||i===null?dp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=60103,en=60106,_t=60107,Rl=60108,kr=60114,Ll=60109,bl=60110,ws=60112,Cr=60113,Vi=60120,Ss=60115,jl=60116,Bl=60121,Ul=60128,af=60129,Fl=60130,Po=60131;if(typeof Symbol=="function"&&Symbol.for){var oe=Symbol.for;yr=oe("react.element"),en=oe("react.portal"),_t=oe("react.fragment"),Rl=oe("react.strict_mode"),kr=oe("react.profiler"),Ll=oe("react.provider"),bl=oe("react.context"),ws=oe("react.forward_ref"),Cr=oe("react.suspense"),Vi=oe("react.suspense_list"),Ss=oe("react.memo"),jl=oe("react.lazy"),Bl=oe("react.block"),oe("react.scope"),Ul=oe("react.opaque.id"),af=oe("react.debug_trace_mode"),Fl=oe("react.offscreen"),Po=oe("react.legacy_hidden")}var nu=typeof Symbol=="function"&&Symbol.iterator;function tr(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var Hs;function vr(e){if(Hs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hs=t&&t[1]||""}return`
`+Hs+e}var Gs=!1;function di(e,t){if(!e||Gs)return"";Gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{Gs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vr(e):""}function mp(e){switch(e.tag){case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return e=di(e.type,!1),e;case 11:return e=di(e.type.render,!1),e;case 22:return e=di(e.type._render,!1),e;case 1:return e=di(e.type,!0),e;default:return""}}function Cn(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _t:return"Fragment";case en:return"Portal";case kr:return"Profiler";case Rl:return"StrictMode";case Cr:return"Suspense";case Vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bl:return(e.displayName||"Context")+".Consumer";case Ll:return(e._context.displayName||"Context")+".Provider";case ws:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ss:return Cn(e.type);case Bl:return Cn(e._render);case jl:t=e._payload,e=e._init;try{return Cn(e(t))}catch{}}return null}function jt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function uf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yp(e){var t=uf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hi(e){e._valueTracker||(e._valueTracker=yp(e))}function cf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ko(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function ru(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ff(e,t){t=t.checked,t!=null&&Dl(e,"checked",t,!1)}function Co(e,t){ff(e,t);var n=jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xo(e,t.type,n):t.hasOwnProperty("defaultValue")&&xo(e,t.type,jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xo(e,t,n){(t!=="number"||Hi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function vp(e){var t="";return gs.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Oo(e,t){return e=W({children:void 0},t),(t=vp(t.children))&&(e.children=t),e}function xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function No(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jt(n)}}function df(e,t){var n=jt(t.value),r=jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ou(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Mo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function hf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pi,pf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Mo.svg||"innerHTML"in e)e.innerHTML=t;else{for(pi=pi||document.createElement("div"),pi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gp=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(e){gp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xr[t]=xr[e]})});function mf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xr.hasOwnProperty(e)&&xr[e]?(""+t).trim():t+"px"}function yf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var wp=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function To(e,t){if(t){if(wp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Do=null,On=null,Nn=null;function lu(e){if(e=ii(e)){if(typeof Do!="function")throw Error(k(280));var t=e.stateNode;t&&(t=xs(t),Do(e.stateNode,e.type,t))}}function vf(e){On?Nn?Nn.push(e):Nn=[e]:On=e}function gf(){if(On){var e=On,t=Nn;if(Nn=On=null,lu(e),t)for(e=0;e<t.length;e++)lu(t[e])}}function $l(e,t){return e(t)}function wf(e,t,n,r,i){return e(t,n,r,i)}function Vl(){}var Sf=$l,tn=!1,Ws=!1;function Hl(){(On!==null||Nn!==null)&&(Vl(),gf())}function Sp(e,t,n){if(Ws)return e(t,n);Ws=!0;try{return Sf(e,t,n)}finally{Ws=!1,Hl()}}function Ur(e,t){var n=e.stateNode;if(n===null)return null;var r=xs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Ro=!1;if(mt)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Ro=!1}function Ep(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var Or=!1,Gi=null,Wi=!1,Lo=null,_p={onError:function(e){Or=!0,Gi=e}};function Pp(e,t,n,r,i,s,o,l,a){Or=!1,Gi=null,Ep.apply(_p,arguments)}function kp(e,t,n,r,i,s,o,l,a){if(Pp.apply(this,arguments),Or){if(Or){var u=Gi;Or=!1,Gi=null}else throw Error(k(198));Wi||(Wi=!0,Lo=u)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ef(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function au(e){if(pn(e)!==e)throw Error(k(188))}function Cp(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return au(i),e;if(s===r)return au(i),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function _f(e){if(e=Cp(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function uu(e,t){for(var n=e.alternate;t!==null;){if(t===e||t===n)return!0;t=t.return}return!1}var Pf,Gl,kf,Cf,bo=!1,Je=[],Mt=null,It=null,Tt=null,Fr=new Map,zr=new Map,rr=[],cu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jo(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function fu(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(t.pointerId)}}function ir(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e=jo(t,n,r,i,s),t!==null&&(t=ii(t),t!==null&&Gl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xp(e,t,n,r,i){switch(t){case"focusin":return Mt=ir(Mt,e,t,n,r,i),!0;case"dragenter":return It=ir(It,e,t,n,r,i),!0;case"mouseover":return Tt=ir(Tt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fr.set(s,ir(Fr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zr.set(s,ir(zr.get(s)||null,e,t,n,r,i)),!0}return!1}function Op(e){var t=nn(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ef(n),t!==null){e.blockedOn=t,Cf(e.lanePriority,function(){le.unstable_runWithPriority(e.priority,function(){kf(n)})});return}}else if(t===3&&n.stateNode.hydrate){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return t=ii(n),t!==null&&Gl(t),e.blockedOn=n,!1;t.shift()}return!0}function du(e,t,n){Ii(e)&&n.delete(t)}function Np(){for(bo=!1;0<Je.length;){var e=Je[0];if(e.blockedOn!==null){e=ii(e.blockedOn),e!==null&&Pf(e);break}for(var t=e.targetContainers;0<t.length;){var n=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null){e.blockedOn=n;break}t.shift()}e.blockedOn===null&&Je.shift()}Mt!==null&&Ii(Mt)&&(Mt=null),It!==null&&Ii(It)&&(It=null),Tt!==null&&Ii(Tt)&&(Tt=null),Fr.forEach(du),zr.forEach(du)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,le.unstable_scheduleCallback(le.unstable_NormalPriority,Np)))}function xf(e){function t(i){return sr(i,e)}if(0<Je.length){sr(Je[0],e);for(var n=1;n<Je.length;n++){var r=Je[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&sr(Mt,e),It!==null&&sr(It,e),Tt!==null&&sr(Tt,e),Fr.forEach(t),zr.forEach(t),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&rr.shift()}function mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionend:mi("Transition","TransitionEnd")},Ks={},Of={};mt&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Es(e){if(Ks[e])return Ks[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Of)return Ks[e]=t[n];return e}var Nf=Es("animationend"),Mf=Es("animationiteration"),If=Es("animationstart"),Tf=Es("transitionend"),Af=new Map,Wl=new Map,Mp=["abort","abort",Nf,"animationEnd",Mf,"animationIteration",If,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Tf,"transitionEnd","waiting","waiting"];function Kl(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Wl.set(r,t),Af.set(r,i),dn(i,[r])}}var Ip=le.unstable_now;Ip();var $=8;function vn(e){if((1&e)!==0)return $=15,1;if((2&e)!==0)return $=14,2;if((4&e)!==0)return $=13,4;var t=24&e;return t!==0?($=12,t):(e&32)!==0?($=11,32):(t=192&e,t!==0?($=10,t):(e&256)!==0?($=9,256):(t=3584&e,t!==0?($=8,t):(e&4096)!==0?($=7,4096):(t=4186112&e,t!==0?($=6,t):(t=62914560&e,t!==0?($=5,t):e&67108864?($=4,67108864):(e&134217728)!==0?($=3,134217728):(t=805306368&e,t!==0?($=2,t):(1073741824&e)!==0?($=1,1073741824):($=8,e))))))}function Tp(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ap(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(k(358,e))}}function $r(e,t){var n=e.pendingLanes;if(n===0)return $=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,l=e.pingedLanes;if(s!==0)r=s,i=$=15;else if(s=n&134217727,s!==0){var a=s&~o;a!==0?(r=vn(a),i=$):(l&=s,l!==0&&(r=vn(l),i=$))}else s=n&~o,s!==0?(r=vn(s),i=$):l!==0&&(r=vn(l),i=$);if(r===0)return 0;if(r=31-Bt(r),r=n&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&o)===0){if(vn(t),i<=$)return t;$=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),i=1<<n,r|=e[n],t&=~i;return r}function Df(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ki(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=gn(24&~t),e===0?Ki(10,t):e;case 10:return e=gn(192&~t),e===0?Ki(8,t):e;case 8:return e=gn(3584&~t),e===0&&(e=gn(4186112&~t),e===0&&(e=512)),e;case 2:return t=gn(805306368&~t),t===0&&(t=268435456),t}throw Error(k(358,e))}function gn(e){return e&-e}function Ys(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _s(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-Bt(t),e[t]=n}var Bt=Math.clz32?Math.clz32:Lp,Dp=Math.log,Rp=Math.LN2;function Lp(e){return e===0?32:31-(Dp(e)/Rp|0)|0}var bp=le.unstable_UserBlockingPriority,jp=le.unstable_runWithPriority,Ti=!0;function Bp(e,t,n,r){tn||Vl();var i=Yl,s=tn;tn=!0;try{wf(i,e,t,n,r)}finally{(tn=s)||Hl()}}function Up(e,t,n,r){jp(bp,Yl.bind(null,e,t,n,r))}function Yl(e,t,n,r){if(Ti){var i;if((i=(t&4)===0)&&0<Je.length&&-1<cu.indexOf(e))e=jo(null,e,t,n,r),Je.push(e);else{var s=ql(e,t,n,r);if(s===null)i&&fu(e,r);else{if(i){if(-1<cu.indexOf(e)){e=jo(s,e,t,n,r),Je.push(e);return}if(xp(s,e,t,n,r))return;fu(e,r)}Wf(e,t,r,null,n)}}}}function ql(e,t,n,r){var i=zl(r);if(i=nn(i),i!==null){var s=pn(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Ef(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wf(e,t,r,i,n),null}var kt=null,Ql=null,Ai=null;function Rf(){if(Ai)return Ai;var e,t=Ql,n=t.length,r,i="value"in kt?kt.value:kt.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ai=i.slice(e,1<r?1-r:void 0)}function Di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function hu(){return!1}function Le(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yi:hu,this.isPropagationStopped=hu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Le(Vn),ri=W({},Vn,{view:0,detail:0}),Fp=Le(ri),qs,Qs,or,Ps=W({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(qs=e.screenX-or.screenX,Qs=e.screenY-or.screenY):Qs=qs=0,or=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Qs}}),pu=Le(Ps),zp=W({},Ps,{dataTransfer:0}),$p=Le(zp),Vp=W({},ri,{relatedTarget:0}),Js=Le(Vp),Hp=W({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=Le(Hp),Wp=W({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=Le(Wp),Yp=W({},Vn,{data:0}),mu=Le(Yp),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jp[e])?!!t[e]:!1}function Xl(){return Xp}var Zp=W({},ri,{key:function(e){if(e.key){var t=qp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=Le(Zp),tm=W({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Le(tm),nm=W({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),rm=Le(nm),im=W({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=Le(im),om=W({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lm=Le(om),am=[9,13,27,32],Zl=mt&&"CompositionEvent"in window,Nr=null;mt&&"documentMode"in document&&(Nr=document.documentMode);var um=mt&&"TextEvent"in window&&!Nr,Lf=mt&&(!Zl||Nr&&8<Nr&&11>=Nr),vu=String.fromCharCode(32),gu=!1;function bf(e,t){switch(e){case"keyup":return am.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function cm(e,t){switch(e){case"compositionend":return jf(t);case"keypress":return t.which!==32?null:(gu=!0,vu);case"textInput":return e=t.data,e===vu&&gu?null:e;default:return null}}function fm(e,t){if(Sn)return e==="compositionend"||!Zl&&bf(e,t)?(e=Rf(),Ai=Ql=kt=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lf&&t.locale!=="ko"?null:t.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dm[e.type]:t==="textarea"}function Bf(e,t,n,r){vf(r),t=Yi(t,"onChange"),0<t.length&&(n=new Jl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mr=null,Vr=null;function hm(e){Vf(e,0)}function ks(e){var t=_n(e);if(cf(t))return e}function pm(e,t){if(e==="change")return t}var Uf=!1;if(mt){var Xs;if(mt){var Zs="oninput"in document;if(!Zs){var Su=document.createElement("div");Su.setAttribute("oninput","return;"),Zs=typeof Su.oninput=="function"}Xs=Zs}else Xs=!1;Uf=Xs&&(!document.documentMode||9<document.documentMode)}function Eu(){Mr&&(Mr.detachEvent("onpropertychange",Ff),Vr=Mr=null)}function Ff(e){if(e.propertyName==="value"&&ks(Vr)){var t=[];if(Bf(t,Vr,e,zl(e)),e=hm,tn)e(t);else{tn=!0;try{$l(e,t)}finally{tn=!1,Hl()}}}}function mm(e,t,n){e==="focusin"?(Eu(),Mr=t,Vr=n,Mr.attachEvent("onpropertychange",Ff)):e==="focusout"&&Eu()}function ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(Vr)}function vm(e,t){if(e==="click")return ks(t)}function gm(e,t){if(e==="input"||e==="change")return ks(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var je=typeof Object.is=="function"?Object.is:wm,Sm=Object.prototype.hasOwnProperty;function Hr(e,t){if(je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Sm.call(t,n[r])||!je(e[n[r]],t[n[r]]))return!1;return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pu(e,t){var n=_u(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_u(n)}}function zf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ku(){for(var e=window,t=Hi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Hi(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Em=mt&&"documentMode"in document&&11>=document.documentMode,En=null,Uo=null,Ir=null,Fo=!1;function Cu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fo||En==null||En!==Hi(r)||(r=En,"selectionStart"in r&&Bo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Hr(Ir,r)||(Ir=r,r=Yi(Uo,"onSelect"),0<r.length&&(t=new Jl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}Kl("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Kl("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Kl(Mp,2);for(var xu="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),eo=0;eo<xu.length;eo++)Wl.set(xu[eo],0);Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$f=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function Ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kp(r,t,void 0,e),e.currentTarget=null}function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ou(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ou(i,l,u),s=a}}}if(Wi)throw e=Lo,Wi=!1,Lo=null,e}function H(e,t){var n=Yf(t),r=e+"__bubble";n.has(r)||(Gf(t,e,2,!1),n.add(r))}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Hf(e){e[Nu]||(e[Nu]=!0,lf.forEach(function(t){$f.has(t)||Mu(t,!1,e,null),Mu(t,!0,e,null)}))}function Mu(e,t,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(e==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!t&&$f.has(e)){if(e!=="scroll")return;i|=2,s=r}var o=Yf(s),l=e+"__"+(t?"capture":"bubble");o.has(l)||(t&&(i|=4),Gf(s,e,i,t),o.add(l))}function Gf(e,t,n,r){var i=Wl.get(t);switch(i===void 0?2:i){case 0:i=Bp;break;case 1:i=Up;break;default:i=Yl}n=i.bind(null,t,n,e),i=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wf(e,t,n,r,i){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=nn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Sp(function(){var u=s,h=zl(n),g=[];e:{var m=Af.get(e);if(m!==void 0){var S=Jl,_=e;switch(e){case"keypress":if(Di(n)===0)break e;case"keydown":case"keyup":S=em;break;case"focusin":_="focus",S=Js;break;case"focusout":_="blur",S=Js;break;case"beforeblur":case"afterblur":S=Js;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=rm;break;case Nf:case Mf:case If:S=Gp;break;case Tf:S=sm;break;case"scroll":S=Fp;break;case"wheel":S=lm;break;case"copy":case"cut":case"paste":S=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=yu}var E=(t&4)!==0,d=!E&&e==="scroll",c=E?m!==null?m+"Capture":null:m;E=[];for(var f=u,y;f!==null;){y=f;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,c!==null&&(v=Ur(f,c),v!=null&&E.push(Gr(f,v,y)))),d)break;f=f.return}0<E.length&&(m=new S(m,_,null,n,h),g.push({event:m,listeners:E}))}}if((t&7)===0){e:{if(m=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",m&&(t&16)===0&&(_=n.relatedTarget||n.fromElement)&&(nn(_)||_[Hn]))break e;if((S||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,S?(_=n.relatedTarget||n.toElement,S=u,_=_?nn(_):null,_!==null&&(d=pn(_),_!==d||_.tag!==5&&_.tag!==6)&&(_=null)):(S=null,_=u),S!==_)){if(E=pu,v="onMouseLeave",c="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(E=yu,v="onPointerLeave",c="onPointerEnter",f="pointer"),d=S==null?m:_n(S),y=_==null?m:_n(_),m=new E(v,f+"leave",S,n,h),m.target=d,m.relatedTarget=y,v=null,nn(h)===u&&(E=new E(c,f+"enter",_,n,h),E.target=y,E.relatedTarget=d,v=E),d=v,S&&_)t:{for(E=S,c=_,f=0,y=E;y;y=yn(y))f++;for(y=0,v=c;v;v=yn(v))y++;for(;0<f-y;)E=yn(E),f--;for(;0<y-f;)c=yn(c),y--;for(;f--;){if(E===c||c!==null&&E===c.alternate)break t;E=yn(E),c=yn(c)}E=null}else E=null;S!==null&&Iu(g,m,S,E,!1),_!==null&&d!==null&&Iu(g,d,_,E,!0)}}e:{if(m=u?_n(u):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var M=pm;else if(wu(m))if(Uf)M=gm;else{M=ym;var C=mm}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=vm);if(M&&(M=M(e,u))){Bf(g,M,n,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&xo(m,"number",m.value)}switch(C=u?_n(u):window,e){case"focusin":(wu(C)||C.contentEditable==="true")&&(En=C,Uo=u,Ir=null);break;case"focusout":Ir=Uo=En=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Cu(g,n,h);break;case"selectionchange":if(Em)break;case"keydown":case"keyup":Cu(g,n,h)}var T;if(Zl)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Sn?bf(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Lf&&n.locale!=="ko"&&(Sn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Sn&&(T=Rf()):(kt=h,Ql="value"in kt?kt.value:kt.textContent,Sn=!0)),C=Yi(u,b),0<C.length&&(b=new mu(b,e,null,n,h),g.push({event:b,listeners:C}),T?b.data=T:(T=jf(n),T!==null&&(b.data=T)))),(T=um?cm(e,n):fm(e,n))&&(u=Yi(u,"onBeforeInput"),0<u.length&&(h=new mu("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:u}),h.data=T))}Vf(g,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ur(e,n),s!=null&&r.unshift(Gr(e,s,i)),s=Ur(e,t),s!=null&&r.push(Gr(e,s,i))),e=e.return}return r}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iu(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ur(n,s),a!=null&&o.unshift(Gr(n,a,l))):i||(a=Ur(n,s),a!=null&&o.push(Gr(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}function qi(){}var to=null,no=null;function Kf(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zo(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,_m=typeof clearTimeout=="function"?clearTimeout:void 0;function ea(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function Au(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ro=0;function Pm(e){return{$$typeof:Ul,toString:e,valueOf:e}}var Cs=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Cs,Qi="__reactProps$"+Cs,Hn="__reactContainer$"+Cs,Du="__reactEvents$"+Cs;function nn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Au(e);e!==null;){if(n=e[Ct])return n;e=Au(e)}return t}e=n,n=e.parentNode}return null}function ii(e){return e=e[Ct]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function xs(e){return e[Qi]||null}function Yf(e){var t=e[Du];return t===void 0&&(t=e[Du]=new Set),t}var $o=[],Pn=-1;function Vt(e){return{current:e}}function G(e){0>Pn||(e.current=$o[Pn],$o[Pn]=null,Pn--)}function X(e,t){Pn++,$o[Pn]=e.current,e.current=t}var Ut={},we=Vt(Ut),Ne=Vt(!1),an=Ut;function bn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Me(e){return e=e.childContextTypes,e!=null}function Ji(){G(Ne),G(we)}function Ru(e,t,n){if(we.current!==Ut)throw Error(k(168));X(we,t),X(Ne,n)}function qf(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(k(108,Cn(t)||"Unknown",i));return W({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,an=we.current,X(we,e),X(Ne,Ne.current),!0}function Lu(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=qf(e,t,an),r.__reactInternalMemoizedMergedChildContext=e,G(Ne),G(we),X(we,e)):G(Ne),X(Ne,n)}var ta=null,on=null,km=le.unstable_runWithPriority,na=le.unstable_scheduleCallback,Vo=le.unstable_cancelCallback,Cm=le.unstable_shouldYield,bu=le.unstable_requestPaint,Ho=le.unstable_now,xm=le.unstable_getCurrentPriorityLevel,Os=le.unstable_ImmediatePriority,Qf=le.unstable_UserBlockingPriority,Jf=le.unstable_NormalPriority,Xf=le.unstable_LowPriority,Zf=le.unstable_IdlePriority,io={},Om=bu!==void 0?bu:function(){},ut=null,Li=null,so=!1,ju=Ho(),ve=1e4>ju?Ho:function(){return Ho()-ju};function jn(){switch(xm()){case Os:return 99;case Qf:return 98;case Jf:return 97;case Xf:return 96;case Zf:return 95;default:throw Error(k(332))}}function ed(e){switch(e){case 99:return Os;case 98:return Qf;case 97:return Jf;case 96:return Xf;case 95:return Zf;default:throw Error(k(332))}}function un(e,t){return e=ed(e),km(e,t)}function Wr(e,t,n){return e=ed(e),na(e,t,n)}function ot(){if(Li!==null){var e=Li;Li=null,Vo(e)}td()}function td(){if(!so&&ut!==null){so=!0;var e=0;try{var t=ut;un(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}}),ut=null}catch(n){throw ut!==null&&(ut=ut.slice(e+1)),na(Os,ot),n}finally{so=!1}}}var Nm=hn.ReactCurrentBatchConfig;function He(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Xi=Vt(null),Zi=null,kn=null,es=null;function ra(){es=kn=Zi=null}function ia(e){var t=Xi.current;G(Xi),e.type._context._currentValue=t}function nd(e,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)===t){if(n===null||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,n!==null&&(n.childLanes|=t);e=e.return}}function In(e,t){Zi=e,es=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ye=!0),e.firstContext=null)}function Fe(e,t){if(es!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(es=e,t=1073741823),t={context:e,observedBits:t,next:null},kn===null){if(Zi===null)throw Error(k(308));kn=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else kn=kn.next=t;return e._currentValue}var Et=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Bu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kr(e,t,n,r){var i=e.updateQueue;Et=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=e.alternate;if(h!==null){h=h.updateQueue;var g=h.lastBaseUpdate;g!==o&&(g===null?h.firstBaseUpdate=u:g.next=u,h.lastBaseUpdate=a)}}if(s!==null){g=i.baseState,o=0,h=u=a=null;do{l=s.lane;var m=s.eventTime;if((r&l)===l){h!==null&&(h=h.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var S=e,_=s;switch(l=t,m=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){g=S.call(m,g,l);break e}g=S;break e;case 3:S.flags=S.flags&-4097|64;case 0:if(S=_.payload,l=typeof S=="function"?S.call(m,g,l):S,l==null)break e;g=W({},g,l);break e;case 2:Et=!0}}s.callback!==null&&(e.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else m={eventTime:m,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=m,a=g):h=h.next=m,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);h===null&&(a=g),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,oi|=o,e.lanes=o,e.memoizedState=g}}function Uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(k(191,i));i.call(r)}}}var id=new gs.Component().refs;function ts(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ns={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ae(),i=Rt(e),s=At(r,i);s.payload=t,n!=null&&(s.callback=n),Dt(e,s),Lt(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ae(),i=Rt(e),s=At(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),Dt(e,s),Lt(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),r=Rt(e),i=At(n,r);i.tag=2,t!=null&&(i.callback=t),Dt(e,i),Lt(e,r,n)}};function Fu(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(i,s):!0}function sd(e,t,n){var r=!1,i=Ut,s=t.contextType;return typeof s=="object"&&s!==null?s=Fe(s):(i=Me(t)?an:we.current,r=t.contextTypes,s=(r=r!=null)?bn(e,i):Ut),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ns,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function zu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=id,sa(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Fe(s):(s=Me(t)?an:we.current,i.context=bn(e,s)),Kr(e,n,i,r),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ts(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ns.enqueueReplaceState(i,i.state,null),Kr(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var vi=Array.isArray;function lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=r.refs;o===id&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function gi(e,t){if(e.type!=="textarea")throw Error(k(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function od(e){function t(d,c){if(e){var f=d.lastEffect;f!==null?(f.nextEffect=c,d.lastEffect=c):d.firstEffect=d.lastEffect=c,c.nextEffect=null,c.flags=8}}function n(d,c){if(!e)return null;for(;c!==null;)t(d,c),c=c.sibling;return null}function r(d,c){for(d=new Map;c!==null;)c.key!==null?d.set(c.key,c):d.set(c.index,c),c=c.sibling;return d}function i(d,c){return d=zt(d,c),d.index=0,d.sibling=null,d}function s(d,c,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<c?(d.flags=2,c):f):(d.flags=2,c)):c}function o(d){return e&&d.alternate===null&&(d.flags=2),d}function l(d,c,f,y){return c===null||c.tag!==6?(c=co(f,d.mode,y),c.return=d,c):(c=i(c,f),c.return=d,c)}function a(d,c,f,y){return c!==null&&c.elementType===f.type?(y=i(c,f.props),y.ref=lr(d,c,f),y.return=d,y):(y=Ui(f.type,f.key,f.props,null,d.mode,y),y.ref=lr(d,c,f),y.return=d,y)}function u(d,c,f,y){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=fo(f,d.mode,y),c.return=d,c):(c=i(c,f.children||[]),c.return=d,c)}function h(d,c,f,y,v){return c===null||c.tag!==7?(c=Rn(f,d.mode,y,v),c.return=d,c):(c=i(c,f),c.return=d,c)}function g(d,c,f){if(typeof c=="string"||typeof c=="number")return c=co(""+c,d.mode,f),c.return=d,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case yr:return f=Ui(c.type,c.key,c.props,null,d.mode,f),f.ref=lr(d,null,c),f.return=d,f;case en:return c=fo(c,d.mode,f),c.return=d,c}if(vi(c)||tr(c))return c=Rn(c,d.mode,f,null),c.return=d,c;gi(d,c)}return null}function m(d,c,f,y){var v=c!==null?c.key:null;if(typeof f=="string"||typeof f=="number")return v!==null?null:l(d,c,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case yr:return f.key===v?f.type===_t?h(d,c,f.props.children,y,v):a(d,c,f,y):null;case en:return f.key===v?u(d,c,f,y):null}if(vi(f)||tr(f))return v!==null?null:h(d,c,f,y,null);gi(d,f)}return null}function S(d,c,f,y,v){if(typeof y=="string"||typeof y=="number")return d=d.get(f)||null,l(c,d,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yr:return d=d.get(y.key===null?f:y.key)||null,y.type===_t?h(c,d,y.props.children,v,y.key):a(c,d,y,v);case en:return d=d.get(y.key===null?f:y.key)||null,u(c,d,y,v)}if(vi(y)||tr(y))return d=d.get(f)||null,h(c,d,y,v,null);gi(c,y)}return null}function _(d,c,f,y){for(var v=null,M=null,C=c,T=c=0,b=null;C!==null&&T<f.length;T++){C.index>T?(b=C,C=null):b=C.sibling;var I=m(d,C,f[T],y);if(I===null){C===null&&(C=b);break}e&&C&&I.alternate===null&&t(d,C),c=s(I,c,T),M===null?v=I:M.sibling=I,M=I,C=b}if(T===f.length)return n(d,C),v;if(C===null){for(;T<f.length;T++)C=g(d,f[T],y),C!==null&&(c=s(C,c,T),M===null?v=C:M.sibling=C,M=C);return v}for(C=r(d,C);T<f.length;T++)b=S(C,d,T,f[T],y),b!==null&&(e&&b.alternate!==null&&C.delete(b.key===null?T:b.key),c=s(b,c,T),M===null?v=b:M.sibling=b,M=b);return e&&C.forEach(function(ie){return t(d,ie)}),v}function E(d,c,f,y){var v=tr(f);if(typeof v!="function")throw Error(k(150));if(f=v.call(f),f==null)throw Error(k(151));for(var M=v=null,C=c,T=c=0,b=null,I=f.next();C!==null&&!I.done;T++,I=f.next()){C.index>T?(b=C,C=null):b=C.sibling;var ie=m(d,C,I.value,y);if(ie===null){C===null&&(C=b);break}e&&C&&ie.alternate===null&&t(d,C),c=s(ie,c,T),M===null?v=ie:M.sibling=ie,M=ie,C=b}if(I.done)return n(d,C),v;if(C===null){for(;!I.done;T++,I=f.next())I=g(d,I.value,y),I!==null&&(c=s(I,c,T),M===null?v=I:M.sibling=I,M=I);return v}for(C=r(d,C);!I.done;T++,I=f.next())I=S(C,d,T,I.value,y),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?T:I.key),c=s(I,c,T),M===null?v=I:M.sibling=I,M=I);return e&&C.forEach(function(Gt){return t(d,Gt)}),v}return function(d,c,f,y){var v=typeof f=="object"&&f!==null&&f.type===_t&&f.key===null;v&&(f=f.props.children);var M=typeof f=="object"&&f!==null;if(M)switch(f.$$typeof){case yr:e:{for(M=f.key,v=c;v!==null;){if(v.key===M){switch(v.tag){case 7:if(f.type===_t){n(d,v.sibling),c=i(v,f.props.children),c.return=d,d=c;break e}break;default:if(v.elementType===f.type){n(d,v.sibling),c=i(v,f.props),c.ref=lr(d,v,f),c.return=d,d=c;break e}}n(d,v);break}else t(d,v);v=v.sibling}f.type===_t?(c=Rn(f.props.children,d.mode,y,f.key),c.return=d,d=c):(y=Ui(f.type,f.key,f.props,null,d.mode,y),y.ref=lr(d,c,f),y.return=d,d=y)}return o(d);case en:e:{for(v=f.key;c!==null;){if(c.key===v)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(d,c.sibling),c=i(c,f.children||[]),c.return=d,d=c;break e}else{n(d,c);break}else t(d,c);c=c.sibling}c=fo(f,d.mode,y),c.return=d,d=c}return o(d)}if(typeof f=="string"||typeof f=="number")return f=""+f,c!==null&&c.tag===6?(n(d,c.sibling),c=i(c,f),c.return=d,d=c):(n(d,c),c=co(f,d.mode,y),c.return=d,d=c),o(d);if(vi(f))return _(d,c,f,y);if(tr(f))return E(d,c,f,y);if(M&&gi(d,f),typeof f>"u"&&!v)switch(d.tag){case 1:case 22:case 0:case 11:case 15:throw Error(k(152,Cn(d.type)||"Component"))}return n(d,c)}}var ns=od(!0),ld=od(!1),si={},et=Vt(si),Yr=Vt(si),qr=Vt(si);function rn(e){if(e===si)throw Error(k(174));return e}function Wo(e,t){switch(X(qr,t),X(Yr,e),X(et,si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}G(et),X(et,t)}function Bn(){G(et),G(Yr),G(qr)}function $u(e){rn(qr.current);var t=rn(et.current),n=Io(t,e.type);t!==n&&(X(Yr,e),X(et,n))}function oa(e){Yr.current===e&&(G(et),G(Yr))}var J=Vt(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ft=null,xt=null,tt=!1;function ad(e,t){var n=Be(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Ko(e){if(tt){var t=xt;if(t){var n=t;if(!Vu(e,t)){if(t=Mn(n.nextSibling),!t||!Vu(e,t)){e.flags=e.flags&-1025|2,tt=!1,ft=e;return}ad(ft,n)}ft=e,xt=Mn(t.firstChild)}else e.flags=e.flags&-1025|2,tt=!1,ft=e}}function Hu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function wi(e){if(e!==ft)return!1;if(!tt)return Hu(e),tt=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!zo(t,e.memoizedProps))for(t=xt;t;)ad(e,t),t=Mn(t.nextSibling);if(Hu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xt=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=ft?Mn(e.stateNode.nextSibling):null;return!0}function oo(){xt=ft=null,tt=!1}var Tn=[];function la(){for(var e=0;e<Tn.length;e++)Tn[e]._workInProgressVersionPrimary=null;Tn.length=0}var Tr=hn.ReactCurrentDispatcher,Ue=hn.ReactCurrentBatchConfig,Qr=0,ee=null,me=null,ce=null,is=!1,Ar=!1;function Ce(){throw Error(k(321))}function aa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!je(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,s){if(Qr=s,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tr.current=e===null||e.memoizedState===null?Im:Tm,e=n(r,i),Ar){s=0;do{if(Ar=!1,!(25>s))throw Error(k(301));s+=1,ce=me=null,t.updateQueue=null,Tr.current=Am,e=n(r,i)}while(Ar)}if(Tr.current=as,t=me!==null&&me.next!==null,Qr=0,ce=me=ee=null,is=!1,t)throw Error(k(300));return e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?ee.memoizedState=ce=e:ce=ce.next=e,ce}function mn(){if(me===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ce===null?ee.memoizedState:ce.next;if(t!==null)ce=t,me=e;else{if(e===null)throw Error(k(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ce===null?ee.memoizedState=ce=e:ce=ce.next=e}return ce}function Xe(e,t){return typeof t=="function"?t(e):t}function ar(e){var t=mn(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,a=i;do{var u=a.lane;if((Qr&u)===u)l!==null&&(l=l.next={lane:0,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null}),r=a.eagerReducer===e?a.eagerState:e(r,a.action);else{var h={lane:u,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,ee.lanes|=u,oi|=u}a=a.next}while(a!==null&&a!==i);l===null?s=r:l.next=o,je(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ur(e){var t=mn(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);je(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gu(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===r:(e=e.mutableReadLanes,(e=(Qr&e)===e)&&(t._workInProgressVersionPrimary=r,Tn.push(t))),e)return n(t._source);throw Tn.push(t),Error(k(350))}function ud(e,t,n,r){var i=Pe;if(i===null)throw Error(k(349));var s=t._getVersion,o=s(t._source),l=Tr.current,a=l.useState(function(){return Gu(i,t,n)}),u=a[1],h=a[0];a=ce;var g=e.memoizedState,m=g.refs,S=m.getSnapshot,_=g.source;g=g.subscribe;var E=ee;return e.memoizedState={refs:m,source:t,subscribe:r},l.useEffect(function(){m.getSnapshot=n,m.setSnapshot=u;var d=s(t._source);if(!je(o,d)){d=n(t._source),je(h,d)||(u(d),d=Rt(E),i.mutableReadLanes|=d&i.pendingLanes),d=i.mutableReadLanes,i.entangledLanes|=d;for(var c=i.entanglements,f=d;0<f;){var y=31-Bt(f),v=1<<y;c[y]|=d,f&=~v}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var d=m.getSnapshot,c=m.setSnapshot;try{c(d(t._source));var f=Rt(E);i.mutableReadLanes|=f&i.pendingLanes}catch(y){c(function(){throw y})}})},[t,r]),je(S,n)&&je(_,t)&&je(g,r)||(e={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:h},e.dispatch=u=da.bind(null,ee,e),a.queue=e,a.baseQueue=null,h=Gu(i,t,n),a.memoizedState=a.baseState=h),h}function cd(e,t,n){var r=mn();return ud(r,e,t,n)}function cr(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:e},e=e.dispatch=da.bind(null,ee,e),[t.memoizedState,e]}function ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wu(e){var t=sn();return e={current:e},t.memoizedState=e}function os(){return mn().memoizedState}function Yo(e,t,n,r){var i=sn();ee.flags|=e,i.memoizedState=ss(1|t,n,void 0,r===void 0?null:r)}function ca(e,t,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(me!==null){var o=me.memoizedState;if(s=o.destroy,r!==null&&aa(r,o.deps)){ss(t,n,s,r);return}}ee.flags|=e,i.memoizedState=ss(1|t,n,s,r)}function Ku(e,t){return Yo(516,4,e,t)}function ls(e,t){return ca(516,4,e,t)}function fd(e,t){return ca(4,2,e,t)}function dd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hd(e,t,n){return n=n!=null?n.concat([e]):null,ca(4,2,dd.bind(null,t,e),n)}function fa(){}function pd(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function md(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mm(e,t){var n=jn();un(98>n?98:n,function(){e(!0)}),un(97<n?97:n,function(){var r=Ue.transition;Ue.transition=1;try{e(!1),t()}finally{Ue.transition=r}})}function da(e,t,n){var r=Ae(),i=Rt(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===ee||o!==null&&o===ee)Ar=is=!0;else{if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,a=o(l,n);if(s.eagerReducer=o,s.eagerState=a,je(a,l))return}catch{}finally{}Lt(e,i,r)}}var as={readContext:Fe,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useOpaqueIdentifier:Ce,unstable_isNewReconciler:!1},Im={readContext:Fe,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4,2,dd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=da.bind(null,ee,e),[r.memoizedState,e]},useRef:Wu,useState:cr,useDebugValue:fa,useDeferredValue:function(e){var t=cr(e),n=t[0],r=t[1];return Ku(function(){var i=Ue.transition;Ue.transition=1;try{r(e)}finally{Ue.transition=i}},[e]),n},useTransition:function(){var e=cr(!1),t=e[0];return e=Mm.bind(null,e[1]),Wu(e),[e,t]},useMutableSource:function(e,t,n){var r=sn();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ud(r,e,t,n)},useOpaqueIdentifier:function(){if(tt){var e=!1,t=Pm(function(){throw e||(e=!0,n("r:"+(ro++).toString(36))),Error(k(355))}),n=cr(t)[1];return(ee.mode&2)===0&&(ee.flags|=516,ss(5,function(){n("r:"+(ro++).toString(36))},void 0,null)),t}return t="r:"+(ro++).toString(36),cr(t),t},unstable_isNewReconciler:!1},Tm={readContext:Fe,useCallback:pd,useContext:Fe,useEffect:ls,useImperativeHandle:hd,useLayoutEffect:fd,useMemo:md,useReducer:ar,useRef:os,useState:function(){return ar(Xe)},useDebugValue:fa,useDeferredValue:function(e){var t=ar(Xe),n=t[0],r=t[1];return ls(function(){var i=Ue.transition;Ue.transition=1;try{r(e)}finally{Ue.transition=i}},[e]),n},useTransition:function(){var e=ar(Xe)[0];return[os().current,e]},useMutableSource:cd,useOpaqueIdentifier:function(){return ar(Xe)[0]},unstable_isNewReconciler:!1},Am={readContext:Fe,useCallback:pd,useContext:Fe,useEffect:ls,useImperativeHandle:hd,useLayoutEffect:fd,useMemo:md,useReducer:ur,useRef:os,useState:function(){return ur(Xe)},useDebugValue:fa,useDeferredValue:function(e){var t=ur(Xe),n=t[0],r=t[1];return ls(function(){var i=Ue.transition;Ue.transition=1;try{r(e)}finally{Ue.transition=i}},[e]),n},useTransition:function(){var e=ur(Xe)[0];return[os().current,e]},useMutableSource:cd,useOpaqueIdentifier:function(){return ur(Xe)[0]},unstable_isNewReconciler:!1},Dm=hn.ReactCurrentOwner,Ye=!1;function Oe(e,t,n,r){t.child=e===null?ld(t,null,n,r):ns(t,e.child,n,r)}function Yu(e,t,n,r,i){n=n.render;var s=t.ref;return In(t,i),r=ua(e,t,n,r,s,i),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,dt(e,t,i)):(t.flags|=1,Oe(e,t,r,i),t.child)}function qu(e,t,n,r,i,s){if(e===null){var o=n.type;return typeof o=="function"&&!ga(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,yd(e,t,o,r,i,s)):(e=Ui(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}return o=e.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:Hr,n(i,r)&&e.ref===t.ref)?dt(e,t,s):(t.flags|=1,e=zt(o,r),e.ref=t.ref,e.return=t,t.child=e)}function yd(e,t,n,r,i,s){if(e!==null&&Hr(e.memoizedProps,r)&&e.ref===t.ref)if(Ye=!1,(s&i)!==0)(e.flags&16384)!==0&&(Ye=!0);else return t.lanes=e.lanes,dt(e,t,s);return qo(e,t,n,r,s)}function lo(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Ei(t,n);else if((n&1073741824)!==0)t.memoizedState={baseLanes:0},Ei(t,s!==null?s.baseLanes:n);else return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ei(t,e),null;else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(t,r);return Oe(e,t,i,n),t.child}function vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var s=Me(n)?an:we.current;return s=bn(t,s),In(t,i),n=ua(e,t,n,r,s,i),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,dt(e,t,i)):(t.flags|=1,Oe(e,t,n,i),t.child)}function Qu(e,t,n,r,i){if(Me(n)){var s=!0;Ri(t)}else s=!1;if(In(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),sd(t,n,r),Go(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Me(n)?an:we.current,u=bn(t,u));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&zu(t,o,r,u),Et=!1;var m=t.memoizedState;o.state=m,Kr(t,r,o,i),a=t.memoizedState,l!==r||m!==a||Ne.current||Et?(typeof h=="function"&&(ts(t,n,h,r),a=t.memoizedState),(l=Et||Fu(t,n,l,r,m,a,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4)):(typeof o.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{o=t.stateNode,rd(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:He(t.type,l),o.props=u,g=t.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Fe(a):(a=Me(n)?an:we.current,a=bn(t,a));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||m!==a)&&zu(t,o,r,a),Et=!1,m=t.memoizedState,o.state=m,Kr(t,r,o,i);var _=t.memoizedState;l!==g||m!==_||Ne.current||Et?(typeof S=="function"&&(ts(t,n,S,r),_=t.memoizedState),(u=Et||Fu(t,n,u,r,m,_,a))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=256),r=!1)}return Qo(e,t,n,r,s,i)}function Qo(e,t,n,r,i,s){vd(e,t);var o=(t.flags&64)!==0;if(!r&&!o)return i&&Lu(t,n,!1),dt(e,t,s);r=t.stateNode,Dm.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ns(t,e.child,null,s),t.child=ns(t,null,l,s)):Oe(e,t,l,s),t.memoizedState=r.state,i&&Lu(t,n,!0),t.child}function Ju(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),Wo(e,t.containerInfo)}var Si={dehydrated:null,retryLane:0};function Xu(e,t,n){var r=t.pendingProps,i=J.current,s=!1,o;return(o=(t.flags&64)!==0)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-65):e!==null&&e.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),X(J,i&1),e===null?(r.fallback!==void 0&&Ko(t),e=r.children,i=r.fallback,s?(e=Zu(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Si,e):typeof r.unstable_expectedLoadTime=="number"?(e=Zu(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Si,t.lanes=33554432,e):(n=wa({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):e.memoizedState!==null?s?(r=tc(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Si,r):(n=ec(e,t,r.children,n),t.memoizedState=null,n):s?(r=tc(e,t,r.children,r.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Si,r):(n=ec(e,t,r.children,n),t.memoizedState=null,n)}function Zu(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=t):s=wa(t,i,0,null),n=Rn(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function ec(e,t,n,r){var i=e.child;return e=i.sibling,n=zt(i,{mode:"visible",children:n}),(t.mode&2)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tc(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zt(o,l),e!==null?r=zt(e,r):(r=Rn(r,s,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nc(e,t){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nd(e.return,t)}function ao(e,t,n,r,i,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function rc(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Oe(e,t,r.children,n),r=J.current,(r&2)!==0)r=r&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nc(e,n);else if(e.tag===19)nc(e,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(J,r),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ao(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ao(t,!0,n,null,s,t.lastEffect);break;case"together":ao(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,(n&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}var gd,Jo,wd,Sd;gd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};wd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rn(et.current);var s=null;switch(n){case"input":i=ko(e,i),r=ko(e,r),s=[];break;case"option":i=Oo(e,i),r=Oo(e,r),s=[];break;case"select":i=W({},i,{value:void 0}),r=W({},r,{value:void 0}),s=[];break;case"textarea":i=No(e,i),r=No(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qi)}To(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&H("scroll",e),s||l===a||(s=[])):typeof a=="object"&&a!==null&&a.$$typeof===Ul?a.toString():(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Sd=function(e,t,n,r){n!==r&&(t.flags|=4)};function fr(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rm(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Me(t.type)&&Ji(),null;case 3:return Bn(),G(Ne),G(we),la(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Jo(t),null;case 5:oa(t);var i=rn(qr.current);if(n=t.type,e!==null&&t.stateNode!=null)wd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(k(166));return null}if(e=rn(et.current),wi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ct]=t,r[Qi]=s,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(e=0;e<gr.length;e++)H(gr[e],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":ru(r,s),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},H("invalid",r);break;case"textarea":su(r,s),H("invalid",r)}To(n,s),e=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(e=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(e=["children",""+i]):jr.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&H("scroll",r));switch(n){case"input":hi(r),iu(r,s,!0);break;case"textarea":hi(r),ou(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qi)}r=e,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,e===Mo.html&&(e=hf(n)),e===Mo.html?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ct]=t,e[Qi]=r,gd(e,t,!1,!1),t.stateNode=e,o=Ao(n,r),n){case"dialog":H("cancel",e),H("close",e),i=r;break;case"iframe":case"object":case"embed":H("load",e),i=r;break;case"video":case"audio":for(i=0;i<gr.length;i++)H(gr[i],e);i=r;break;case"source":H("error",e),i=r;break;case"img":case"image":case"link":H("error",e),H("load",e),i=r;break;case"details":H("toggle",e),i=r;break;case"input":ru(e,r),i=ko(e,r),H("invalid",e);break;case"option":i=Oo(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=W({},r,{value:void 0}),H("invalid",e);break;case"textarea":su(e,r),i=No(e,r),H("invalid",e);break;default:i=r}To(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?yf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&pf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Br(e,a):typeof a=="number"&&Br(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&H("scroll",e):a!=null&&Dl(e,s,a,o))}switch(n){case"input":hi(e),iu(e,r,!1);break;case"textarea":hi(e),ou(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?xn(e,!!r.multiple,s,!1):r.defaultValue!=null&&xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qi)}Kf(n,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)Sd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));n=rn(qr.current),rn(et.current),wi(t)?(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,r.nodeValue!==n&&(t.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r)}return null;case 13:return G(J),r=t.memoizedState,(t.flags&64)!==0?(t.lanes=n,t):(r=r!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&wi(t):n=e.memoizedState!==null,r&&!n&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(J.current&1)!==0?de===0&&(de=3):((de===0||de===3)&&(de=4),Pe===null||(oi&134217727)===0&&(Wn&134217727)===0||An(Pe,ge))),(r||n)&&(t.flags|=4),null);case 4:return Bn(),Jo(t),e===null&&Hf(t.stateNode.containerInfo),null;case 10:return ia(t),null;case 17:return Me(t.type)&&Ji(),null;case 19:if(G(J),r=t.memoizedState,r===null)return null;if(s=(t.flags&64)!==0,o=r.rendering,o===null)if(s)fr(r,!1);else{if(de!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(o=rs(e),o!==null){for(t.flags|=64,fr(r,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(J,J.current&1|2),t.child}e=e.sibling}r.tail!==null&&ve()>rl&&(t.flags|=64,s=!0,fr(r,!1),t.lanes=33554432)}else{if(!s)if(e=rs(o),e!==null){if(t.flags|=64,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!tt)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*ve()-r.renderingStartTime>rl&&n!==1073741824&&(t.flags|=64,s=!0,fr(r,!1),t.lanes=33554432);r.isBackwards?(o.sibling=t.child,t.child=o):(n=r.last,n!==null?n.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ve(),n.sibling=null,t=J.current,X(J,s?t&1|2:t&1),n):null;case 23:case 24:return va(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(k(156,t.tag))}function Lm(e){switch(e.tag){case 1:Me(e.type)&&Ji();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Bn(),G(Ne),G(we),la(),t=e.flags,(t&64)!==0)throw Error(k(285));return e.flags=t&-4097|64,e;case 5:return oa(e),null;case 13:return G(J),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return G(J),null;case 4:return Bn(),null;case 10:return ia(e),null;case 23:case 24:return va(),null;default:return null}}function ha(e,t){try{var n="",r=t;do n+=mp(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i}}function Xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bm=typeof WeakMap=="function"?WeakMap:Map;function Ed(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cs||(cs=!0,il=r),Xo(e,t)},n}function _d(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return Xo(e,t),r(i)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ze===null?Ze=new Set([this]):Ze.add(this),Xo(e,t));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}var jm=typeof WeakSet=="function"?WeakSet:Set;function ic(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){bt(e,n)}else t.current=null}function Bm(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:He(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&ea(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(k(163))}function Um(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(Td(n,e),Km(n,e)),e=r}while(e!==t)}return;case 1:e=n.stateNode,n.flags&4&&(t===null?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:He(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,t!==null&&Uu(n,t,e);return;case 3:if(t=n.updateQueue,t!==null){if(e=null,n.child!==null)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Uu(n,t,e)}return;case 5:e=n.stateNode,t===null&&n.flags&4&&Kf(n.type,n.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&xf(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(k(163))}function sc(e,t){for(var n=e;;){if(n.tag===5){var r=n.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=mf("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function oc(e,t){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ta,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)Td(t,n);else{r=t;try{i()}catch(s){bt(r,s)}}n=n.next}while(n!==e)}break;case 1:if(ic(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){bt(t,s)}break;case 5:ic(t);break;case 4:Pd(e,t)}}function lc(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ac(e){return e.tag===5||e.tag===3||e.tag===4}function uc(e){e:{for(var t=e.return;t!==null;){if(ac(t))break e;t=t.return}throw Error(k(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(k(161))}n.flags&16&&(Br(t,""),n.flags&=-17);e:t:for(n=e;;){for(;n.sibling===null;){if(n.return===null||ac(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Zo(e,n,t):el(e,n,t)}function Zo(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qi));else if(r!==4&&(e=e.child,e!==null))for(Zo(e,t,n),e=e.sibling;e!==null;)Zo(e,t,n),e=e.sibling}function el(e,t,n){var r=e.tag,i=r===5||r===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function Pd(e,t){for(var n=t,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(k(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=e,l=n,a=l;;)if(oc(o,a),a.child!==null&&a.tag!==4)a.child.return=a,a=a.child;else{if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(oc(e,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function uo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(e=r.destroy,r.destroy=void 0,e!==void 0&&e()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=t.stateNode,n!=null){r=t.memoizedProps;var i=e!==null?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,s!==null){for(n[Qi]=r,e==="input"&&r.type==="radio"&&r.name!=null&&ff(n,r),Ao(e,i),t=Ao(e,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?yf(n,l):o==="dangerouslySetInnerHTML"?pf(n,l):o==="children"?Br(n,l):Dl(n,o,l,t)}switch(e){case"input":Co(n,r);break;case"textarea":df(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?xn(n,!!r.multiple,s,!1):e!==!!r.multiple&&(r.defaultValue!=null?xn(n,!!r.multiple,r.defaultValue,!0):xn(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(k(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:n=t.stateNode,n.hydrate&&(n.hydrate=!1,xf(n.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(ya=ve(),sc(t.child,!0)),cc(t);return;case 19:cc(t);return;case 17:return;case 23:case 24:sc(t,t.memoizedState!==null);return}throw Error(k(163))}function cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jm),t.forEach(function(r){var i=Qm.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fm(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var zm=Math.ceil,us=hn.ReactCurrentDispatcher,pa=hn.ReactCurrentOwner,L=0,Pe=null,se=null,ge=0,cn=0,tl=Vt(0),de=0,Ms=null,Gn=0,oi=0,Wn=0,ma=0,nl=null,ya=0,rl=1/0;function Kn(){rl=ve()+500}var N=null,cs=!1,il=null,Ze=null,Ft=!1,Dr=null,wr=90,sl=[],ol=[],pt=null,Rr=0,ll=null,bi=-1,ct=0,ji=0,Lr=null,Bi=!1;function Ae(){return(L&48)!==0?ve():bi!==-1?bi:bi=ve()}function Rt(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return jn()===99?1:2;if(ct===0&&(ct=Gn),Nm.transition!==0){ji!==0&&(ji=nl!==null?nl.pendingLanes:0),e=ct;var t=4186112&~ji;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=jn(),(L&4)!==0&&e===98?e=Ki(12,ct):(e=Tp(e),e=Ki(e,ct)),e}function Lt(e,t,n){if(50<Rr)throw Rr=0,ll=null,Error(k(185));if(e=Is(e,t),e===null)return null;_s(e,t,n),e===Pe&&(Wn|=t,de===4&&An(e,ge));var r=jn();t===1?(L&8)!==0&&(L&48)===0?al(e):(ze(e,n),L===0&&(Kn(),ot())):((L&4)===0||r!==98&&r!==99||(pt===null?pt=new Set([e]):pt.add(e)),ze(e,n)),nl=e}function Is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function ze(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Bt(o),a=1<<l,u=s[l];if(u===-1){if((a&r)===0||(a&i)!==0){u=t,vn(a);var h=$;s[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=a);o&=~a}if(r=$r(e,e===Pe?ge:0),t=$,r===0)n!==null&&(n!==io&&Vo(n),e.callbackNode=null,e.callbackPriority=0);else{if(n!==null){if(e.callbackPriority===t)return;n!==io&&Vo(n)}t===15?(n=al.bind(null,e),ut===null?(ut=[n],Li=na(Os,td)):ut.push(n),n=io):t===14?n=Wr(99,al.bind(null,e)):(n=Ap(t),n=Wr(n,kd.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function kd(e){if(bi=-1,ji=ct=0,(L&48)!==0)throw Error(k(327));var t=e.callbackNode;if(Ht()&&e.callbackNode!==t)return null;var n=$r(e,e===Pe?ge:0);if(n===0)return null;var r=n,i=L;L|=16;var s=Nd();(Pe!==e||ge!==r)&&(Kn(),Dn(e,r));do try{Hm();break}catch(l){Od(e,l)}while(1);if(ra(),us.current=s,L=i,se!==null?r=0:(Pe=null,ge=0,r=de),(Gn&Wn)!==0)Dn(e,0);else if(r!==0){if(r===2&&(L|=64,e.hydrate&&(e.hydrate=!1,ea(e.containerInfo)),n=Df(e),n!==0&&(r=Sr(e,n))),r===1)throw t=Ms,Dn(e,0),An(e,n),ze(e,ve()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(k(345));case 2:Xt(e);break;case 3:if(An(e,n),(n&62914560)===n&&(r=ya+500-ve(),10<r)){if($r(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ae(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tu(Xt.bind(null,e),r);break}Xt(e);break;case 4:if(An(e,n),(n&4186112)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Bt(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zm(n/1960))-n,10<n){e.timeoutHandle=Tu(Xt.bind(null,e),n);break}Xt(e);break;case 5:Xt(e);break;default:throw Error(k(329))}}return ze(e,ve()),e.callbackNode===t?kd.bind(null,e):null}function An(e,t){for(t&=~ma,t&=~Wn,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function al(e){if((L&48)!==0)throw Error(k(327));if(Ht(),e===Pe&&(e.expiredLanes&ge)!==0){var t=ge,n=Sr(e,t);(Gn&Wn)!==0&&(t=$r(e,t),n=Sr(e,t))}else t=$r(e,0),n=Sr(e,t);if(e.tag!==0&&n===2&&(L|=64,e.hydrate&&(e.hydrate=!1,ea(e.containerInfo)),t=Df(e),t!==0&&(n=Sr(e,t))),n===1)throw n=Ms,Dn(e,0),An(e,t),ze(e,ve()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e),ze(e,ve()),null}function $m(){if(pt!==null){var e=pt;pt=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,ze(t,ve())})}ot()}function Cd(e,t){var n=L;L|=1;try{return e(t)}finally{L=n,L===0&&(Kn(),ot())}}function xd(e,t){var n=L;L&=-2,L|=8;try{return e(t)}finally{L=n,L===0&&(Kn(),ot())}}function Ei(e,t){X(tl,cn),cn|=t,Gn|=t}function va(){cn=tl.current,G(tl)}function Dn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_m(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ji();break;case 3:Bn(),G(Ne),G(we),la();break;case 5:oa(r);break;case 4:Bn();break;case 13:G(J);break;case 19:G(J);break;case 10:ia(r);break;case 23:case 24:va()}n=n.return}Pe=e,se=zt(e.current,null),ge=cn=Gn=t,de=0,Ms=null,ma=Wn=oi=0}function Od(e,t){do{var n=se;try{if(ra(),Tr.current=as,is){for(var r=ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}is=!1}if(Qr=0,ce=me=ee=null,Ar=!1,pa.current=null,n===null||n.return===null){de=1,Ms=t,se=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=ge,l.flags|=2048,l.firstEffect=l.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a;if((l.mode&2)===0){var h=l.alternate;h?(l.updateQueue=h.updateQueue,l.memoizedState=h.memoizedState,l.lanes=h.lanes):(l.updateQueue=null,l.memoizedState=null)}var g=(J.current&1)!==0,m=o;do{var S;if(S=m.tag===13){var _=m.memoizedState;if(_!==null)S=_.dehydrated!==null;else{var E=m.memoizedProps;S=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!g}}if(S){var d=m.updateQueue;if(d===null){var c=new Set;c.add(u),m.updateQueue=c}else d.add(u);if((m.mode&2)===0){if(m.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var f=At(-1,1);f.tag=2,Dt(l,f)}l.lanes|=1;break e}a=void 0,l=t;var y=s.pingCache;if(y===null?(y=s.pingCache=new bm,a=new Set,y.set(u,a)):(a=y.get(u),a===void 0&&(a=new Set,y.set(u,a))),!a.has(l)){a.add(l);var v=qm.bind(null,s,u,l);u.then(v,v)}m.flags|=4096,m.lanes=t;break e}m=m.return}while(m!==null);a=Error((Cn(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}de!==5&&(de=2),a=ha(a,l),m=o;do{switch(m.tag){case 3:s=a,m.flags|=4096,t&=-t,m.lanes|=t;var M=Ed(m,s,t);Bu(m,M);break e;case 1:s=a;var C=m.type,T=m.stateNode;if((m.flags&64)===0&&(typeof C.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ze===null||!Ze.has(T)))){m.flags|=4096,t&=-t,m.lanes|=t;var b=_d(m,s,t);Bu(m,b);break e}}m=m.return}while(m!==null)}Id(n)}catch(I){t=I,se===n&&n!==null&&(se=n=n.return);continue}break}while(1)}function Nd(){var e=us.current;return us.current=as,e===null?as:e}function Sr(e,t){var n=L;L|=16;var r=Nd();Pe===e&&ge===t||Dn(e,t);do try{Vm();break}catch(i){Od(e,i)}while(1);if(ra(),L=n,us.current=r,se!==null)throw Error(k(261));return Pe=null,ge=0,de}function Vm(){for(;se!==null;)Md(se)}function Hm(){for(;se!==null&&!Cm();)Md(se)}function Md(e){var t=Ad(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?Id(e):se=t,pa.current=null}function Id(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&2048)===0){if(n=Rm(n,t,cn),n!==null){se=n;return}if(n=t,n.tag!==24&&n.tag!==23||n.memoizedState===null||(cn&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=Lm(t),n!==null){n.flags&=2047,se=n;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);de===0&&(de=5)}function Xt(e){var t=jn();return un(99,Gm.bind(null,e,t)),null}function Gm(e,t){do Ht();while(Dr!==null);if((L&48)!==0)throw Error(k(327));var n=e.finishedWork;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<s;){var a=31-Bt(s),u=1<<a;i[a]=0,o[a]=-1,l[a]=-1,s&=~u}if(pt!==null&&(r&24)===0&&pt.has(e)&&pt.delete(e),e===Pe&&(se=Pe=null,ge=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=L,L|=32,pa.current=null,to=Ti,o=ku(),Bo(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&u.rangeCount!==0){l=u.anchorNode,s=u.anchorOffset,a=u.focusNode,u=u.focusOffset;try{l.nodeType,a.nodeType}catch{l=null;break e}var h=0,g=-1,m=-1,S=0,_=0,E=o,d=null;t:for(;;){for(var c;E!==l||s!==0&&E.nodeType!==3||(g=h+s),E!==a||u!==0&&E.nodeType!==3||(m=h+u),E.nodeType===3&&(h+=E.nodeValue.length),(c=E.firstChild)!==null;)d=E,E=c;for(;;){if(E===o)break t;if(d===l&&++S===s&&(g=h),d===a&&++_===u&&(m=h),(c=E.nextSibling)!==null)break;E=d,d=E.parentNode}E=c}l=g===-1||m===-1?null:{start:g,end:m}}else l=null;l=l||{start:0,end:0}}else l=null;no={focusedElem:o,selectionRange:l},Ti=!1,Lr=null,Bi=!1,N=r;do try{Wm()}catch(I){if(N===null)throw Error(k(330));bt(N,I),N=N.nextEffect}while(N!==null);Lr=null,N=r;do try{for(o=e;N!==null;){var f=N.flags;if(f&16&&Br(N.stateNode,""),f&128){var y=N.alternate;if(y!==null){var v=y.ref;v!==null&&(typeof v=="function"?v(null):v.current=null)}}switch(f&1038){case 2:uc(N),N.flags&=-3;break;case 6:uc(N),N.flags&=-3,uo(N.alternate,N);break;case 1024:N.flags&=-1025;break;case 1028:N.flags&=-1025,uo(N.alternate,N);break;case 4:uo(N.alternate,N);break;case 8:l=N,Pd(o,l);var M=l.alternate;lc(l),M!==null&&lc(M)}N=N.nextEffect}}catch(I){if(N===null)throw Error(k(330));bt(N,I),N=N.nextEffect}while(N!==null);if(v=no,y=ku(),f=v.focusedElem,o=v.selectionRange,y!==f&&f&&f.ownerDocument&&zf(f.ownerDocument.documentElement,f)){for(o!==null&&Bo(f)&&(y=o.start,v=o.end,v===void 0&&(v=y),"selectionStart"in f?(f.selectionStart=y,f.selectionEnd=Math.min(v,f.value.length)):(v=(y=f.ownerDocument||document)&&y.defaultView||window,v.getSelection&&(v=v.getSelection(),l=f.textContent.length,M=Math.min(o.start,l),o=o.end===void 0?M:Math.min(o.end,l),!v.extend&&M>o&&(l=o,o=M,M=l),l=Pu(f,M),s=Pu(f,o),l&&s&&(v.rangeCount!==1||v.anchorNode!==l.node||v.anchorOffset!==l.offset||v.focusNode!==s.node||v.focusOffset!==s.offset)&&(y=y.createRange(),y.setStart(l.node,l.offset),v.removeAllRanges(),M>o?(v.addRange(y),v.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),v.addRange(y)))))),y=[],v=f;v=v.parentNode;)v.nodeType===1&&y.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<y.length;f++)v=y[f],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}Ti=!!to,no=to=null,e.current=n,N=r;do try{for(f=e;N!==null;){var C=N.flags;if(C&36&&Um(f,N.alternate,N),C&128){y=void 0;var T=N.ref;if(T!==null){var b=N.stateNode;switch(N.tag){case 5:y=b;break;default:y=b}typeof T=="function"?T(y):T.current=y}}N=N.nextEffect}}catch(I){if(N===null)throw Error(k(330));bt(N,I),N=N.nextEffect}while(N!==null);N=null,Om(),L=i}else e.current=n;if(Ft)Ft=!1,Dr=e,wr=t;else for(N=r;N!==null;)t=N.nextEffect,N.nextEffect=null,N.flags&8&&(C=N,C.sibling=null,C.stateNode=null),N=t;if(r=e.pendingLanes,r===0&&(Ze=null),r===1?e===ll?Rr++:(Rr=0,ll=e):Rr=0,n=n.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ta,n,void 0,(n.current.flags&64)===64)}catch{}if(ze(e,ve()),cs)throw cs=!1,e=il,il=null,e;return(L&8)!==0||ot(),null}function Wm(){for(;N!==null;){var e=N.alternate;Bi||Lr===null||((N.flags&8)!==0?uu(N,Lr)&&(Bi=!0):N.tag===13&&Fm(e,N)&&uu(N,Lr)&&(Bi=!0));var t=N.flags;(t&256)!==0&&Bm(e,N),(t&512)===0||Ft||(Ft=!0,Wr(97,function(){return Ht(),null})),N=N.nextEffect}}function Ht(){if(wr!==90){var e=97<wr?97:wr;return wr=90,un(e,Ym)}return!1}function Km(e,t){sl.push(t,e),Ft||(Ft=!0,Wr(97,function(){return Ht(),null}))}function Td(e,t){ol.push(t,e),Ft||(Ft=!0,Wr(97,function(){return Ht(),null}))}function Ym(){if(Dr===null)return!1;var e=Dr;if(Dr=null,(L&48)!==0)throw Error(k(331));var t=L;L|=32;var n=ol;ol=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(a){if(s===null)throw Error(k(330));bt(s,a)}}for(n=sl,sl=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(a){if(s===null)throw Error(k(330));bt(s,a)}}for(l=e.current.firstEffect;l!==null;)e=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=e;return L=t,ot(),!0}function fc(e,t,n){t=ha(n,t),t=Ed(e,t,1),Dt(e,t),t=Ae(),e=Is(e,1),e!==null&&(_s(e,1,t),ze(e,t))}function bt(e,t){if(e.tag===3)fc(e,e,t);else for(var n=e.return;n!==null;){if(n.tag===3){fc(n,e,t);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ze===null||!Ze.has(r))){e=ha(t,e);var i=_d(n,e,1);if(Dt(n,i),i=Ae(),n=Is(n,1),n!==null)_s(n,1,i),ze(n,i);else if(typeof r.componentDidCatch=="function"&&(Ze===null||!Ze.has(r)))try{r.componentDidCatch(t,e)}catch{}break}}n=n.return}}function qm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(ge&n)===n&&(de===4||de===3&&(ge&62914560)===ge&&500>ve()-ya?Dn(e,0):ma|=n),ze(e,t)}function Qm(e,t){var n=e.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=jn()===99?1:2:(ct===0&&(ct=Gn),t=gn(62914560&~ct),t===0&&(t=4194304))),n=Ae(),e=Is(e,t),e!==null&&(_s(e,t,n),ze(e,n))}var Ad;Ad=function(e,t,n){var r=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)Ye=!0;else if((n&r)!==0)Ye=(e.flags&16384)!==0;else{switch(Ye=!1,t.tag){case 3:Ju(t),oo();break;case 5:$u(t);break;case 1:Me(t.type)&&Ri(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;X(Xi,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(n&t.child.childLanes)!==0?Xu(e,t,n):(X(J,J.current&1),t=dt(e,t,n),t!==null?t.sibling:null);X(J,J.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&64)!==0){if(r)return rc(e,t,n);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(J,J.current),r)break;return null;case 23:case 24:return t.lanes=0,lo(e,t,n)}return dt(e,t,n)}else Ye=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=bn(t,we.current),In(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(r)){var s=!0;Ri(t)}else s=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sa(t);var o=r.getDerivedStateFromProps;typeof o=="function"&&ts(t,r,o,e),i.updater=Ns,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Qo(null,t,r,!0,s,n)}else t.tag=0,Oe(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Xm(i),e=He(i,e),s){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Qu(null,t,i,e,n);break e;case 11:t=Yu(null,t,i,e,n);break e;case 14:t=qu(null,t,i,He(i.type,e),r,n);break e}throw Error(k(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:He(r,i),qo(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:He(r,i),Qu(e,t,r,i,n);case 3:if(Ju(t),r=t.updateQueue,e===null||r===null)throw Error(k(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,rd(e,t),Kr(t,r,null,n),r=t.memoizedState.element,r===i)oo(),t=dt(e,t,n);else{if(i=t.stateNode,(s=i.hydrate)&&(xt=Mn(t.stateNode.containerInfo.firstChild),ft=t,s=tt=!0),s){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)s=e[i],s._workInProgressVersionPrimary=e[i+1],Tn.push(s);for(n=ld(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Oe(e,t,r,n),oo();t=t.child}return t;case 5:return $u(t),e===null&&Ko(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,zo(r,i)?o=null:s!==null&&zo(r,s)&&(t.flags|=16),vd(e,t),Oe(e,t,o,n),t.child;case 6:return e===null&&Ko(t),null;case 13:return Xu(e,t,n);case 4:return Wo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ns(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:He(r,i),Yu(e,t,r,i,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value;var l=t.type._context;if(X(Xi,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=je(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!Ne.current){t=dt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){l.tag===1&&(u=At(-1,n&-n),u.tag=2,Dt(l,u)),l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),nd(l.return,n),a.lanes|=n;break}u=u.next}}else o=l.tag===10&&l.type===t.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Oe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps,r=s.children,In(t,n),i=Fe(i,s.unstable_observedBits),r=r(i),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return i=t.type,s=He(i,t.pendingProps),s=He(i.type,s),qu(e,t,i,s,r,n);case 15:return yd(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:He(r,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Me(r)?(e=!0,Ri(t)):e=!1,In(t,n),sd(t,r,i),Go(t,r,i,n),Qo(null,t,r,!0,e,n);case 19:return rc(e,t,n);case 23:return lo(e,t,n);case 24:return lo(e,t,n)}throw Error(k(156,t.tag))};function Jm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,r){return new Jm(e,t,n,r)}function ga(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xm(e){if(typeof e=="function")return ga(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ws)return 11;if(e===Ss)return 14}return 2}function zt(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ui(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ga(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _t:return Rn(n.children,i,s,t);case af:o=8,i|=16;break;case Rl:o=8,i|=1;break;case kr:return e=Be(12,n,t,i|8),e.elementType=kr,e.type=kr,e.lanes=s,e;case Cr:return e=Be(13,n,t,i),e.type=Cr,e.elementType=Cr,e.lanes=s,e;case Vi:return e=Be(19,n,t,i),e.elementType=Vi,e.lanes=s,e;case Fl:return wa(n,i,s,t);case Po:return e=Be(24,n,t,i),e.elementType=Po,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ll:o=10;break e;case bl:o=9;break e;case ws:o=11;break e;case Ss:o=14;break e;case jl:o=16,r=null;break e;case Bl:o=22;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Be(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Rn(e,t,n,r){return e=Be(7,e,r,t),e.lanes=n,e}function wa(e,t,n,r){return e=Be(23,e,r,t),e.elementType=Fl,e.lanes=n,e}function co(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function fo(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zm(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ys(0),this.expirationTimes=Ys(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.mutableSourceEagerHydrationData=null}function ey(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fs(e,t,n,r){var i=t.current,s=Ae(),o=Rt(i);e:if(n){n=n._reactInternals;t:{if(pn(n)!==n||n.tag!==1)throw Error(k(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Me(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(k(171))}if(n.tag===1){var a=n.type;if(Me(a)){n=qf(n,a,l);break e}}n=l}else n=Ut;return t.context===null?t.context=n:t.pendingContext=n,t=At(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),Dt(i,t),Lt(i,o,s),o}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sa(e,t){dc(e,t),(e=e.alternate)&&dc(e,t)}function ty(){return null}function Ea(e,t,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Zm(e,t,n!=null&&n.hydrate===!0),t=Be(3,null,null,t===2?7:t===1?3:0),n.current=t,t.stateNode=n,sa(t),e[Hn]=n.current,Hf(e.nodeType===8?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}Ea.prototype.render=function(e){fs(e,this._internalRoot,null,null)};Ea.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;fs(null,e,null,function(){t[Hn]=null})};function li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ny(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ea(e,0,t?{hydrate:!0}:void 0)}function Ts(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var u=ho(o);l.call(u)}}fs(t,o,e,i)}else{if(s=n._reactRootContainer=ny(n,r),o=s._internalRoot,typeof i=="function"){var a=i;i=function(){var u=ho(o);a.call(u)}}xd(function(){fs(t,o,e,i)})}return ho(o)}Pf=function(e){if(e.tag===13){var t=Ae();Lt(e,4,t),Sa(e,4)}};Gl=function(e){if(e.tag===13){var t=Ae();Lt(e,67108864,t),Sa(e,67108864)}};kf=function(e){if(e.tag===13){var t=Ae(),n=Rt(e);Lt(e,n,t),Sa(e,n)}};Cf=function(e,t){return t()};Do=function(e,t,n){switch(t){case"input":if(Co(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xs(r);if(!i)throw Error(k(90));cf(r),Co(r,i)}}}break;case"textarea":df(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};$l=Cd;wf=function(e,t,n,r,i){var s=L;L|=4;try{return un(98,e.bind(null,t,n,r,i))}finally{L=s,L===0&&(Kn(),ot())}};Vl=function(){(L&49)===0&&($m(),Ht())};Sf=function(e,t){var n=L;L|=2;try{return e(t)}finally{L=n,L===0&&(Kn(),ot())}};function Dd(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!li(t))throw Error(k(200));return ey(e,t,null,n)}var ry={Events:[ii,_n,xs,vf,gf,Ht,{current:!1}]},dr={findFiberByHostInstance:nn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},iy={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_f(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||ty,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{ta=_i.inject(iy),on=_i}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ry;$e.createPortal=Dd;$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):Error(k(268,Object.keys(e)));return e=_f(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e,t){var n=L;if((n&48)!==0)return e(t);L|=1;try{if(e)return un(99,e.bind(null,t))}finally{L=n,ot()}};$e.hydrate=function(e,t,n){if(!li(t))throw Error(k(200));return Ts(null,e,t,!0,n)};$e.render=function(e,t,n){if(!li(t))throw Error(k(200));return Ts(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!li(e))throw Error(k(40));return e._reactRootContainer?(xd(function(){Ts(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};$e.unstable_batchedUpdates=Cd;$e.unstable_createPortal=function(e,t){return Dd(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!li(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Ts(e,t,n,!1,r)};$e.version="17.0.2";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=$e})(rf);function sy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hc(Object(n),!0).forEach(function(r){sy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ie(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mc=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),po=function(){return Math.random().toString(36).substring(7).split("").join(".")},yc={INIT:"@@redux/INIT"+po(),REPLACE:"@@redux/REPLACE"+po(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+po()}};function oy(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _a(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ie(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ie(1));return n(_a)(e,t)}if(typeof e!="function")throw new Error(Ie(2));var i=e,s=t,o=[],l=o,a=!1;function u(){l===o&&(l=o.slice())}function h(){if(a)throw new Error(Ie(3));return s}function g(E){if(typeof E!="function")throw new Error(Ie(4));if(a)throw new Error(Ie(5));var d=!0;return u(),l.push(E),function(){if(!!d){if(a)throw new Error(Ie(6));d=!1,u();var f=l.indexOf(E);l.splice(f,1),o=null}}}function m(E){if(!oy(E))throw new Error(Ie(7));if(typeof E.type>"u")throw new Error(Ie(8));if(a)throw new Error(Ie(9));try{a=!0,s=i(s,E)}finally{a=!1}for(var d=o=l,c=0;c<d.length;c++){var f=d[c];f()}return E}function S(E){if(typeof E!="function")throw new Error(Ie(10));i=E,m({type:yc.REPLACE})}function _(){var E,d=g;return E={subscribe:function(f){if(typeof f!="object"||f===null)throw new Error(Ie(11));function y(){f.next&&f.next(h())}y();var v=d(y);return{unsubscribe:v}}},E[mc]=function(){return this},E}return m({type:yc.INIT}),r={dispatch:m,subscribe:g,getState:h,replaceReducer:S},r[mc]=_,r}function Rd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Ld(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ie(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(a){return a(o)});return s=Rd.apply(void 0,l)(i.dispatch),pc(pc({},i),{},{dispatch:s})}}}function Ke(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Un(e){return!!e&&!!e[De]}function fn(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===py}(e)||Array.isArray(e)||!!e[kc]||!!e.constructor[kc]||Pa(e)||ka(e))}function Jr(e,t,n){n===void 0&&(n=!1),Yn(e)===0?(n?Object.keys:Ma)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Yn(e){var t=e[De];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Pa(e)?2:ka(e)?3:0}function ul(e,t){return Yn(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ly(e,t){return Yn(e)===2?e.get(t):e[t]}function bd(e,t,n){var r=Yn(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function ay(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Pa(e){return dy&&e instanceof Map}function ka(e){return hy&&e instanceof Set}function Zt(e){return e.o||e.t}function Ca(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=my(e);delete t[De];for(var n=Ma(t),r=0;r<n.length;r++){var i=n[r],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function xa(e,t){return t===void 0&&(t=!1),Oa(e)||Un(e)||!fn(e)||(Yn(e)>1&&(e.set=e.add=e.clear=e.delete=uy),Object.freeze(e),t&&Jr(e,function(n,r){return xa(r,!0)},!0)),e}function uy(){Ke(2)}function Oa(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function nt(e){var t=yy[e];return t||Ke(18,e),t}function vc(){return Xr}function mo(e,t){t&&(nt("Patches"),e.u=[],e.s=[],e.v=t)}function ds(e){cl(e),e.p.forEach(cy),e.p=null}function cl(e){e===Xr&&(Xr=e.l)}function gc(e){return Xr={p:[],l:Xr,h:e,m:!0,_:0}}function cy(e){var t=e[De];t.i===0||t.i===1?t.j():t.O=!0}function yo(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||nt("ES5").S(t,e,r),r?(n[De].P&&(ds(t),Ke(4)),fn(e)&&(e=hs(t,e),t.l||ps(t,e)),t.u&&nt("Patches").M(n[De].t,e,t.u,t.s)):e=hs(t,n,[]),ds(t),t.u&&t.v(t.u,t.s),e!==jd?e:void 0}function hs(e,t,n){if(Oa(t))return t;var r=t[De];if(!r)return Jr(t,function(s,o){return wc(e,r,t,s,o,n)},!0),t;if(r.A!==e)return t;if(!r.P)return ps(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Ca(r.k):r.o;Jr(r.i===3?new Set(i):i,function(s,o){return wc(e,r,i,s,o,n)}),ps(e,i,!1),n&&e.u&&nt("Patches").R(r,n,e.u,e.s)}return r.o}function wc(e,t,n,r,i,s){if(Un(i)){var o=hs(e,i,s&&t&&t.i!==3&&!ul(t.D,r)?s.concat(r):void 0);if(bd(n,r,o),!Un(o))return;e.m=!1}if(fn(i)&&!Oa(i)){if(!e.h.F&&e._<1)return;hs(e,i),t&&t.A.l||ps(e,i)}}function ps(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&xa(t,n)}function vo(e,t){var n=e[De];return(n?Zt(n):e)[t]}function Sc(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fl(e){e.P||(e.P=!0,e.l&&fl(e.l))}function go(e){e.o||(e.o=Ca(e.t))}function dl(e,t,n){var r=Pa(t)?nt("MapSet").N(t,n):ka(t)?nt("MapSet").T(t,n):e.g?function(i,s){var o=Array.isArray(i),l={i:o?1:0,A:s?s.A:vc(),P:!1,I:!1,D:{},l:s,t:i,k:null,o:null,j:null,C:!1},a=l,u=hl;o&&(a=[l],u=Er);var h=Proxy.revocable(a,u),g=h.revoke,m=h.proxy;return l.k=m,l.j=g,m}(t,n):nt("ES5").J(t,n);return(n?n.A:vc()).p.push(r),r}function fy(e){return Un(e)||Ke(22,e),function t(n){if(!fn(n))return n;var r,i=n[De],s=Yn(n);if(i){if(!i.P&&(i.i<4||!nt("ES5").K(i)))return i.t;i.I=!0,r=Ec(n,s),i.I=!1}else r=Ec(n,s);return Jr(r,function(o,l){i&&ly(i.t,o)===l||bd(r,o,t(l))}),s===3?new Set(r):r}(e)}function Ec(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ca(e)}var _c,Xr,Na=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",dy=typeof Map<"u",hy=typeof Set<"u",Pc=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",jd=Na?Symbol.for("immer-nothing"):((_c={})["immer-nothing"]=!0,_c),kc=Na?Symbol.for("immer-draftable"):"__$immer_draftable",De=Na?Symbol.for("immer-state"):"__$immer_state",py=""+Object.prototype.constructor,Ma=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,my=Object.getOwnPropertyDescriptors||function(e){var t={};return Ma(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},yy={},hl={get:function(e,t){if(t===De)return e;var n=Zt(e);if(!ul(n,t))return function(i,s,o){var l,a=Sc(s,o);return a?"value"in a?a.value:(l=a.get)===null||l===void 0?void 0:l.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!fn(r)?r:r===vo(e.t,t)?(go(e),e.o[t]=dl(e.A.h,r,e)):r},has:function(e,t){return t in Zt(e)},ownKeys:function(e){return Reflect.ownKeys(Zt(e))},set:function(e,t,n){var r=Sc(Zt(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=vo(Zt(e),t),s=i==null?void 0:i[De];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(ay(n,i)&&(n!==void 0||ul(e.t,t)))return!0;go(e),fl(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return vo(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,go(e),fl(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Zt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ke(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ke(12)}},Er={};Jr(hl,function(e,t){Er[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Er.deleteProperty=function(e,t){return Er.set.call(this,e,t,void 0)},Er.set=function(e,t,n){return hl.set.call(this,e[0],t,n,e[0])};var vy=function(){function e(n){var r=this;this.g=Pc,this.F=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var a=r;return function(E){var d=this;E===void 0&&(E=l);for(var c=arguments.length,f=Array(c>1?c-1:0),y=1;y<c;y++)f[y-1]=arguments[y];return a.produce(E,function(v){var M;return(M=s).call.apply(M,[d,v].concat(f))})}}var u;if(typeof s!="function"&&Ke(6),o!==void 0&&typeof o!="function"&&Ke(7),fn(i)){var h=gc(r),g=dl(r,i,void 0),m=!0;try{u=s(g),m=!1}finally{m?ds(h):cl(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(E){return mo(h,o),yo(E,h)},function(E){throw ds(h),E}):(mo(h,o),yo(u,h))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===jd&&(u=void 0),r.F&&xa(u,!0),o){var S=[],_=[];nt("Patches").M(i,u,S,_),o(S,_)}return u}Ke(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var h=arguments.length,g=Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return r.produceWithPatches(u,function(S){return i.apply(void 0,[S].concat(g))})};var o,l,a=r.produce(i,s,function(u,h){o=u,l=h});return typeof Promise<"u"&&a instanceof Promise?a.then(function(u){return[u,o,l]}):[a,o,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fn(n)||Ke(8),Un(n)&&(n=fy(n));var r=gc(this),i=dl(this,n,void 0);return i[De].C=!0,cl(r),i},t.finishDraft=function(n,r){var i=n&&n[De],s=i.A;return mo(s,r),yo(void 0,s)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!Pc&&Ke(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=nt("Patches").$;return Un(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},e}(),Re=new vy,gy=Re.produce;Re.produceWithPatches.bind(Re);Re.setAutoFreeze.bind(Re);Re.setUseProxies.bind(Re);Re.applyPatches.bind(Re);Re.createDraft.bind(Re);Re.finishDraft.bind(Re);const wy=gy;class Sy{constructor(t){const n=Ey();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(t),this.s0<0&&(this.s0+=1),this.s1-=n(t),this.s1<0&&(this.s1+=1),this.s2-=n(t),this.s2<0&&(this.s2+=1)}next(){const t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=Math.trunc(t))}}function Ey(){let e=4022871197;return function(n){const r=n.toString();for(let i=0;i<r.length;i++){e+=r.charCodeAt(i);let s=.02519603282416938*e;e=s>>>0,s-=e,s*=e,e=s>>>0,s-=e,e+=s*4294967296}return(e>>>0)*23283064365386963e-26}}function Cc(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function Bd(e,t){const n=new Sy(e),r=n.next.bind(n);return t&&Cc(t,n),r.state=()=>Cc(n,{}),r}class xc{constructor(t){this.state=t||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const t=this.state,n=t.prngstate?"":t.seed,r=Bd(n,t.prngstate),i=r();return this.state={...t,prngstate:r.state()},i}api(){const t=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},r={};for(const s in n){const o=n[s];r[s]=l=>l===void 0?Math.floor(t()*o)+1:Array.from({length:l}).map(()=>Math.floor(t()*o)+1)}function i(s=6,o){return o===void 0?Math.floor(t()*s)+1:Array.from({length:o}).map(()=>Math.floor(t()*s)+1)}return{...r,Die:i,Number:()=>t(),Shuffle:s=>{const o=[...s];let l=s.length,a=0;const u=Array.from({length:l});for(;l;){const h=Math.trunc(l*t());u[a++]=o[h],o[h]=o[--l]}return u},_private:this}}}const _y={name:"random",noClient:({api:e})=>e._private.isUsed(),flush:({api:e})=>e._private.getState(),api:({data:e})=>new xc(e).api(),setup:({game:e})=>{let{seed:t}=e;return t===void 0&&(t=xc.seed()),{seed:t}},playerView:()=>{}};var Py=Function.prototype,ky=Py.toString;ky.call(Object);const Zr="MAKE_MOVE",As="GAME_EVENT",Ds="REDO",Ia="RESET",Ta="SYNC",Rs="UNDO",Aa="UPDATE",Da="PATCH",Ud="PLUGIN",Ls="STRIP_TRANSIENTS",Fd=(e,t,n,r)=>({type:Zr,payload:{type:e,args:t,playerID:n,credentials:r}}),br=(e,t,n,r)=>({type:As,payload:{type:e,args:t,playerID:n,credentials:r}}),zd=(e,t,n,r)=>({type:As,payload:{type:e,args:t,playerID:n,credentials:r},automatic:!0}),$d=e=>({type:Ta,state:e.state,log:e.log,initialState:e.initialState,clientOnly:!0}),Vd=(e,t,n,r)=>({type:Da,prevStateID:e,stateID:t,patch:n,deltalog:r,clientOnly:!0}),Hd=(e,t)=>({type:Aa,state:e,deltalog:t,clientOnly:!0}),Gd=e=>({type:Ia,state:e,clientOnly:!0}),Wd=(e,t)=>({type:Rs,payload:{type:null,args:null,playerID:e,credentials:t}}),Kd=(e,t)=>({type:Ds,payload:{type:null,args:null,playerID:e,credentials:t}}),Cy=(e,t,n,r)=>({type:Ud,payload:{type:e,args:t,playerID:n,credentials:r}}),Yd=()=>({type:Ls});var xy=Object.freeze({__proto__:null,makeMove:Fd,gameEvent:br,automaticGameEvent:zd,sync:$d,patch:Vd,update:Hd,reset:Gd,undo:Wd,redo:Kd,plugin:Cy,stripTransients:Yd});const pl="INVALID_MOVE",Oy={name:"plugin-immer",fnWrap:e=>(t,...n)=>{let r=!1;const i=wy(t.G,s=>{const o=e({...t,G:s},...n);if(o===pl){r=!0;return}return o});return r?pl:i}};var ye;(function(e){e.MOVE="MOVE",e.GAME_ON_END="GAME_ON_END",e.PHASE_ON_BEGIN="PHASE_ON_BEGIN",e.PHASE_ON_END="PHASE_ON_END",e.TURN_ON_BEGIN="TURN_ON_BEGIN",e.TURN_ON_MOVE="TURN_ON_MOVE",e.TURN_ON_END="TURN_ON_END"})(ye||(ye={}));var at;(function(e){e.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",e.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks \u2014 the turn is already ending.",e.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,e.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phase\u2019s `onEnd` hook \u2014 the phase is already ending.\nIf you\u2019re trying to dynamically choose the next phase when a phase ends, use the phase\u2019s `next` trigger.",e.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",e.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase\u2019s `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",e.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(at||(at={}));class Ny{constructor(t,n,r){this.flow=t,this.playerID=r,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const t={_private:this};for(const n of this.flow.eventNames)t[n]=(...r)=>{this.dispatch.push({type:n,args:r,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return t}isUsed(){return this.dispatch.length>0}updateTurnContext(t,n){this.currentPhase=t.phase,this.currentTurn=t.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(t){const n=t,r=({stack:i},s)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:s+`
`+i}}}});e:for(let i=0;i<this.dispatch.length;i++){const s=this.dispatch[i],o=s.turn!==t.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return r(s.error,at.MaxTurnEndings);if(s.calledFrom===void 0)return r(s.error,at.CalledOutsideHook);if(t.ctx.gameover)break e;switch(s.type){case"endStage":case"setStage":case"setActivePlayers":{switch(s.calledFrom){case ye.TURN_ON_END:case ye.PHASE_ON_END:return r(s.error,at.StageEventInOnEnd);case ye.PHASE_ON_BEGIN:return r(s.error,at.StageEventInPhaseBegin);case ye.TURN_ON_BEGIN:if(s.type==="setActivePlayers")break;return r(s.error,at.StageEventInTurnBegin)}if(o)continue e;break}case"endTurn":{if(s.calledFrom===ye.TURN_ON_END||s.calledFrom===ye.PHASE_ON_END)return r(s.error,at.EndTurnInOnEnd);if(o)continue e;break}case"endPhase":case"setPhase":{if(s.calledFrom===ye.PHASE_ON_END)return r(s.error,at.PhaseEventInOnEnd);if(s.phase!==t.ctx.phase)continue e;break}}const a=zd(s.type,s.args,this.playerID);t=this.flow.processEvent(t,a)}return t}}const Ra={name:"events",noClient:({api:e})=>e._private.isUsed(),isInvalid:({data:e})=>e.error||!1,fnWrap:(e,t)=>(n,...r)=>{const i=n.events;i&&i._private.updateTurnContext(n.ctx,t);const s=e(n,...r);return i&&i._private.unsetCurrentMethod(),s},dangerouslyFlushRawState:({state:e,api:t})=>t._private.update(e),api:({game:e,ctx:t,playerID:n})=>new Ny(e.flow,t,n).api()},My={name:"log",flush:()=>({}),api:({data:e})=>({setMetadata:t=>{e.metadata=t}}),setup:()=>({})},Iy={name:"plugin-serializable",fnWrap:e=>(t,...n)=>e(t,...n)},Ty=(...e)=>console.error(...e);function z(e){Ty("ERROR:",e)}const La=[Oy,_y,My,Iy],ai=[...La,Ra],Ay=(e,t,n)=>(n.game.plugins.filter(r=>r.action!==void 0).filter(r=>r.name===t.payload.type).forEach(r=>{const i=r.name,s=e.plugins[i]||{data:{}},o=r.action(s.data,t.payload);e={...e,plugins:{...e.plugins,[i]:{...s,data:o}}}}),e),Fn=({plugins:e})=>Object.entries(e||{}).reduce((t,[n,{api:r}])=>(t[n]=r,t),{}),qd=(e,t,n)=>[...La,...n,Ra].filter(r=>r.fnWrap!==void 0).reduce((r,{fnWrap:i})=>i(r,t),e),Dy=(e,t)=>([...ai,...t.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const r=n.name,i=n.setup({G:e.G,ctx:e.ctx,game:t.game});e={...e,plugins:{...e.plugins,[r]:{data:i}}}}),e),ml=(e,t)=>([...ai,...t.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}},s=n.api({G:e.G,ctx:e.ctx,data:i.data,game:t.game,playerID:t.playerID});e={...e,plugins:{...e.plugins,[r]:{...i,api:s}}}}),e),Ry=(e,t)=>([...La,...t.game.plugins,Ra].reverse().forEach(n=>{const r=n.name,i=e.plugins[r]||{data:{}};if(n.flush){const s=n.flush({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data});e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}else if(n.dangerouslyFlushRawState){e=n.dangerouslyFlushRawState({state:e,game:t.game,api:i.api,data:i.data});const s=e.plugins[r].data;e={...e,plugins:{...e.plugins,[n.name]:{data:s}}}}}),e),Ly=(e,t)=>[...ai,...t.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const r=n.name,i=e.plugins[r];return i?n.noClient({G:e.G,ctx:e.ctx,game:t.game,api:i.api,data:i.data}):!1}).includes(!0),by=(e,t)=>[...ai,...t.game.plugins].filter(r=>r.isInvalid!==void 0).map(r=>{const{name:i}=r,s=e.plugins[i],o=r.isInvalid({G:e.G,ctx:e.ctx,game:t.game,data:s&&s.data});return o?{plugin:i,message:o}:!1}).find(r=>r)||!1,Qd=(e,t)=>{const n=Ry(e,t),r=by(n,t);if(!r)return[n];const{plugin:i,message:s}=r;return z(`${i} plugin declared action invalid:
${s}`),[e,r]},Jd=({G:e,ctx:t,plugins:n={}},{game:r,playerID:i})=>([...ai,...r.plugins].forEach(({name:s,playerView:o})=>{if(!o)return;const{data:l}=n[s]||{data:{}},a=o({G:e,ctx:t,game:r,data:l,playerID:i});n={...n,[s]:{data:a}}}),n);function ms(e,t=!1){e.moveLimit&&(t&&(e.minMoves=e.moveLimit),e.maxMoves=e.moveLimit,delete e.moveLimit)}function ys(e,t){let n={},r=[],i=null,s={},o={};if(Array.isArray(t)){const a={};t.forEach(u=>a[u]=Ot.NULL),n=a}else{if(ms(t),t.next&&(i=t.next),t.revert&&(r=[...e._prevActivePlayers,{activePlayers:e.activePlayers,_activePlayersMinMoves:e._activePlayersMinMoves,_activePlayersMaxMoves:e._activePlayersMaxMoves,_activePlayersNumMoves:e._activePlayersNumMoves}]),t.currentPlayer!==void 0&&Pi(n,s,o,e.currentPlayer,t.currentPlayer),t.others!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];u!==e.currentPlayer&&Pi(n,s,o,u,t.others)}if(t.all!==void 0)for(let a=0;a<e.playOrder.length;a++){const u=e.playOrder[a];Pi(n,s,o,u,t.all)}if(t.value)for(const a in t.value)Pi(n,s,o,a,t.value[a]);if(t.minMoves)for(const a in n)s[a]===void 0&&(s[a]=t.minMoves);if(t.maxMoves)for(const a in n)o[a]===void 0&&(o[a]=t.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(s).length===0&&(s=null),Object.keys(o).length===0&&(o=null);const l={};for(const a in n)l[a]=0;return{...e,activePlayers:n,_activePlayersMinMoves:s,_activePlayersMaxMoves:o,_activePlayersNumMoves:l,_prevActivePlayers:r,_nextActivePlayers:i}}function jy(e){let{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s,_nextActivePlayers:o}=e;if(t&&Object.keys(t).length===0)if(o)e=ys(e,o),{activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}=e;else if(s.length>0){const l=s.length-1;({activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i}=s[l]),s=s.slice(0,l)}else t=null,n=null,r=null;return{...e,activePlayers:t,_activePlayersMinMoves:n,_activePlayersMaxMoves:r,_activePlayersNumMoves:i,_prevActivePlayers:s}}function Pi(e,t,n,r,i){(typeof i!="object"||i===Ot.NULL)&&(i={stage:i}),i.stage!==void 0&&(ms(i),e[r]=i.stage,i.minMoves&&(t[r]=i.minMoves),i.maxMoves&&(n[r]=i.maxMoves))}function yl(e,t){return e[t]+""}function By(e,t){let{G:n,ctx:r}=e;const{numPlayers:i}=r,o={...Fn(e),G:n,ctx:r},l=t.order;let a=[...Array.from({length:i})].map((m,S)=>S+"");l.playOrder!==void 0&&(a=l.playOrder(o));const u=l.first(o),h=typeof u;h!=="number"&&z(`invalid value returned by turn.order.first \u2014 expected number got ${h} \u201C${u}\u201D.`);const g=yl(a,u);return r={...r,currentPlayer:g,playOrderPos:u,playOrder:a},r=ys(r,t.activePlayers||{}),r}function Uy(e,t,n,r){const i=n.order;let{G:s,ctx:o}=e,l=o.playOrderPos,a=!1;if(r&&r!==!0)typeof r!="object"&&z(`invalid argument to endTurn: ${r}`),Object.keys(r).forEach(u=>{switch(u){case"remove":t=yl(o.playOrder,l);break;case"next":l=o.playOrder.indexOf(r.next),t=r.next;break;default:z(`invalid argument to endTurn: ${u}`)}});else{const h={...Fn(e),G:s,ctx:o},g=i.next(h),m=typeof g;g!==void 0&&m!=="number"&&z(`invalid value returned by turn.order.next \u2014 expected number or undefined got ${m} \u201C${g}\u201D.`),g===void 0?a=!0:(l=g,t=yl(o.playOrder,l))}return o={...o,playOrderPos:l,currentPlayer:t},{endPhase:a,ctx:o}}const Xd={DEFAULT:{first:({ctx:e})=>e.turn===0?e.playOrderPos:(e.playOrderPos+1)%e.playOrder.length,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},RESET:{first:()=>0,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},CONTINUE:{first:({ctx:e})=>e.playOrderPos,next:({ctx:e})=>(e.playOrderPos+1)%e.playOrder.length},ONCE:{first:()=>0,next:({ctx:e})=>{if(e.playOrderPos<e.playOrder.length-1)return e.playOrderPos+1}},CUSTOM:e=>({playOrder:()=>e,first:()=>0,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}),CUSTOM_FROM:e=>({playOrder:({G:t})=>t[e],first:()=>0,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length})},Ot={NULL:null},Fy={ALL:{all:Ot.NULL},ALL_ONCE:{all:Ot.NULL,minMoves:1,maxMoves:1},OTHERS:{others:Ot.NULL},OTHERS_ONCE:{others:Ot.NULL,minMoves:1,maxMoves:1}};var ln={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.Pointer=void 0;function zy(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function $y(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Vy=function(){function e(t){t===void 0&&(t=[""]),this.tokens=t}return e.fromJSON=function(t){var n=t.split("/").map(zy);if(n[0]!=="")throw new Error("Invalid JSON Pointer: "+t);return new e(n)},e.prototype.toString=function(){return this.tokens.map($y).join("/")},e.prototype.evaluate=function(t){for(var n=null,r="",i=t,s=1,o=this.tokens.length;s<o;s++)n=i,r=this.tokens[s],!(r=="__proto__"||r=="constructor"||r=="prototype")&&(i=(n||{})[r]);return{parent:n,key:r,value:i}},e.prototype.get=function(t){return this.evaluate(t).value},e.prototype.set=function(t,n){for(var r=t,i=1,s=this.tokens.length-1,o=this.tokens[i];i<s;i++)r=(r||{})[o];r&&(r[this.tokens[this.tokens.length-1]]=n)},e.prototype.push=function(t){this.tokens.push(t)},e.prototype.add=function(t){var n=this.tokens.concat(String(t));return new e(n)},e}();ui.Pointer=Vy;var Q={},ba={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=e.objectType=e.hasOwnProperty=void 0,e.hasOwnProperty=Object.prototype.hasOwnProperty;function t(i){return i===void 0?"undefined":i===null?"null":Array.isArray(i)?"array":typeof i}e.objectType=t;function n(i){return i!=null&&typeof i=="object"}function r(i){if(!n(i))return i;if(i.constructor==Array){for(var s=i.length,o=new Array(s),l=0;l<s;l++)o[l]=r(i[l]);return o}if(i.constructor==Date){var a=new Date(+i);return a}var u={};for(var h in i)e.hasOwnProperty.call(i,h)&&(u[h]=r(i[h]));return u}e.clone=r})(ba);var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.diffAny=_e.diffObjects=_e.diffArrays=_e.intersection=_e.subtract=_e.isDestructive=void 0;var ei=ba;function Hy(e){var t=e.op;return t==="remove"||t==="replace"||t==="copy"||t==="move"}_e.isDestructive=Hy;function vl(e,t){var n={};for(var r in e)ei.hasOwnProperty.call(e,r)&&e[r]!==void 0&&(n[r]=1);for(var i in t)ei.hasOwnProperty.call(t,i)&&t[i]!==void 0&&delete n[i];return Object.keys(n)}_e.subtract=vl;function Zd(e){for(var t=e.length,n={},r=0;r<t;r++){var i=e[r];for(var s in i)ei.hasOwnProperty.call(i,s)&&i[s]!==void 0&&(n[s]=(n[s]||0)+1)}for(var s in n)n[s]<t&&delete n[s];return Object.keys(n)}_e.intersection=Zd;function Gy(e){return e.op==="add"}function Wy(e){return e.op==="remove"}function wo(e,t){return{operations:e.operations.concat(t),cost:e.cost+1}}function eh(e,t,n,r){r===void 0&&(r=bs);var i={"0,0":{operations:[],cost:0}};function s(h,g){var m=h+","+g,S=i[m];if(S===void 0){if(h>0&&g>0&&!r(e[h-1],t[g-1],n.add(String(h-1))).length)S=s(h-1,g-1);else{var _=[];if(h>0){var E=s(h-1,g),d={op:"remove",index:h-1};_.push(wo(E,d))}if(g>0){var c=s(h,g-1),f={op:"add",index:h-1,value:t[g-1]};_.push(wo(c,f))}if(h>0&&g>0){var y=s(h-1,g-1),v={op:"replace",index:h-1,original:e[h-1],value:t[g-1]};_.push(wo(y,v))}var M=_.sort(function(C,T){return C.cost-T.cost})[0];S=M}i[m]=S}return S}var o=isNaN(e.length)||e.length<=0?0:e.length,l=isNaN(t.length)||t.length<=0?0:t.length,a=s(o,l).operations,u=a.reduce(function(h,g){var m=h[0],S=h[1];if(Gy(g)){var _=g.index+1+S,E=_<o+S?String(_):"-",d={op:g.op,path:n.add(E).toString(),value:g.value};return[m.concat(d),S+1]}else if(Wy(g)){var d={op:g.op,path:n.add(String(g.index+S)).toString()};return[m.concat(d),S-1]}else{var c=n.add(String(g.index+S)),f=r(g.original,g.value,c);return[m.concat.apply(m,f),S]}},[[],0])[0];return u}_e.diffArrays=eh;function th(e,t,n,r){r===void 0&&(r=bs);var i=[];return vl(e,t).forEach(function(s){i.push({op:"remove",path:n.add(s).toString()})}),vl(t,e).forEach(function(s){i.push({op:"add",path:n.add(s).toString(),value:t[s]})}),Zd([e,t]).forEach(function(s){i.push.apply(i,r(e[s],t[s],n.add(s)))}),i}_e.diffObjects=th;function bs(e,t,n,r){if(r===void 0&&(r=bs),e===t)return[];var i=ei.objectType(e),s=ei.objectType(t);return i=="array"&&s=="array"?eh(e,t,n,r):i=="object"&&s=="object"?th(e,t,n,r):[{op:"replace",path:n.toString(),value:t}]}_e.diffAny=bs;var ja=Pr&&Pr.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Q,"__esModule",{value:!0});Q.apply=Q.InvalidOperationError=Q.test=Q.copy=Q.move=Q.replace=Q.remove=Q.add=Q.TestError=Q.MissingError=void 0;var yt=ui,nh=ba,Ky=_e,rt=function(e){ja(t,e);function t(n){var r=e.call(this,"Value required at path: "+n)||this;return r.path=n,r.name="MissingError",r}return t}(Error);Q.MissingError=rt;var rh=function(e){ja(t,e);function t(n,r){var i=e.call(this,"Test failed: "+n+" != "+r)||this;return i.actual=n,i.expected=r,i.name="TestError",i}return t}(Error);Q.TestError=rh;function Ba(e,t,n){if(Array.isArray(e))if(t=="-")e.push(n);else{var r=parseInt(t,10);e.splice(r,0,n)}else e[t]=n}function ih(e,t){if(Array.isArray(e)){var n=parseInt(t,10);e.splice(n,1)}else delete e[t]}function sh(e,t){var n=yt.Pointer.fromJSON(t.path).evaluate(e);return n.parent===void 0?new rt(t.path):(Ba(n.parent,n.key,nh.clone(t.value)),null)}Q.add=sh;function oh(e,t){var n=yt.Pointer.fromJSON(t.path).evaluate(e);return n.value===void 0?new rt(t.path):(ih(n.parent,n.key),null)}Q.remove=oh;function lh(e,t){var n=yt.Pointer.fromJSON(t.path).evaluate(e);if(n.parent===null)return new rt(t.path);if(Array.isArray(n.parent)){if(parseInt(n.key,10)>=n.parent.length)return new rt(t.path)}else if(n.value===void 0)return new rt(t.path);return n.parent[n.key]=t.value,null}Q.replace=lh;function ah(e,t){var n=yt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new rt(t.from);var r=yt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new rt(t.path):(ih(n.parent,n.key),Ba(r.parent,r.key,n.value),null)}Q.move=ah;function uh(e,t){var n=yt.Pointer.fromJSON(t.from).evaluate(e);if(n.value===void 0)return new rt(t.from);var r=yt.Pointer.fromJSON(t.path).evaluate(e);return r.parent===void 0?new rt(t.path):(Ba(r.parent,r.key,nh.clone(n.value)),null)}Q.copy=uh;function ch(e,t){var n=yt.Pointer.fromJSON(t.path).evaluate(e);return Ky.diffAny(n.value,t.value,new yt.Pointer).length?new rh(n.value,t.value):null}Q.test=ch;var fh=function(e){ja(t,e);function t(n){var r=e.call(this,"Invalid operation: "+n.op)||this;return r.operation=n,r.name="InvalidOperationError",r}return t}(Error);Q.InvalidOperationError=fh;function Yy(e,t){switch(t.op){case"add":return sh(e,t);case"remove":return oh(e,t);case"replace":return lh(e,t);case"move":return ah(e,t);case"copy":return uh(e,t);case"test":return ch(e,t)}return new fh(t)}Q.apply=Yy;Object.defineProperty(ln,"__esModule",{value:!0});ln.createTests=ph=ln.createPatch=hh=ln.applyPatch=void 0;var dh=ui,qy=Q,Ua=_e;function Qy(e,t){return t.map(function(n){return qy.apply(e,n)})}var hh=ln.applyPatch=Qy;function Jy(e){function t(n,r,i){var s=e(n,r,i);return Array.isArray(s)?s:Ua.diffAny(n,r,i,t)}return t}function Xy(e,t,n){var r=new dh.Pointer;return(n?Jy(n):Ua.diffAny)(e,t,r)}var ph=ln.createPatch=Xy;function Oc(e,t){var n=dh.Pointer.fromJSON(t).evaluate(e);if(n!==void 0)return{op:"test",path:t,value:n.value}}function Zy(e,t){var n=new Array;return t.filter(Ua.isDestructive).forEach(function(r){var i=Oc(e,r.path);if(i&&n.push(i),"from"in r){var s=Oc(e,r.from);s&&n.push(s)}}),n}ln.createTests=Zy;function ev({moves:e,phases:t,endIf:n,onEnd:r,turn:i,events:s,plugins:o}){e===void 0&&(e={}),s===void 0&&(s={}),o===void 0&&(o=[]),t===void 0&&(t={}),n||(n=()=>{}),r||(r=({G:p})=>p),i||(i={});const l={...t};""in l&&z("cannot specify phase with empty name"),l[""]={};const a={},u=new Set;let h=null;Object.keys(e).forEach(p=>u.add(p));const g=(p,w)=>{const P=qd(p,w,o);return j=>{const R=Fn(j);return P({...R,G:j.G,ctx:j.ctx,playerID:j.playerID})}},m=p=>w=>{const P=Fn(w);return p({...P,G:w.G,ctx:w.ctx})},S={onEnd:g(r,ye.GAME_ON_END),endIf:m(n)};for(const p in l){const w=l[p];if(w.start===!0&&(h=p),w.moves!==void 0)for(const P of Object.keys(w.moves))a[p+"."+P]=w.moves[P],u.add(P);w.endIf===void 0&&(w.endIf=()=>{}),w.onBegin===void 0&&(w.onBegin=({G:P})=>P),w.onEnd===void 0&&(w.onEnd=({G:P})=>P),w.turn===void 0&&(w.turn=i),w.turn.order===void 0&&(w.turn.order=Xd.DEFAULT),w.turn.onBegin===void 0&&(w.turn.onBegin=({G:P})=>P),w.turn.onEnd===void 0&&(w.turn.onEnd=({G:P})=>P),w.turn.endIf===void 0&&(w.turn.endIf=()=>!1),w.turn.onMove===void 0&&(w.turn.onMove=({G:P})=>P),w.turn.stages===void 0&&(w.turn.stages={}),ms(w.turn,!0);for(const P in w.turn.stages){const R=w.turn.stages[P].moves||{};for(const A of Object.keys(R)){const q=p+"."+P+"."+A;a[q]=R[A],u.add(A)}}if(w.wrapped={onBegin:g(w.onBegin,ye.PHASE_ON_BEGIN),onEnd:g(w.onEnd,ye.PHASE_ON_END),endIf:m(w.endIf)},w.turn.wrapped={onMove:g(w.turn.onMove,ye.TURN_ON_MOVE),onBegin:g(w.turn.onBegin,ye.TURN_ON_BEGIN),onEnd:g(w.turn.onEnd,ye.TURN_ON_END),endIf:m(w.turn.endIf)},typeof w.next!="function"){const{next:P}=w;w.next=()=>P||null}w.wrapped.next=m(w.next)}function _(p){return p.phase?l[p.phase]:l[""]}function E(p){return p}function d(p,w){const P=new Set,j=new Set;for(let R=0;R<w.length;R++){const{fn:A,arg:q,...V}=w[R];if(A===te){j.clear();const Se=p.ctx.phase;if(P.has(Se)){const Qe={...p.ctx,phase:null};return{...p,ctx:Qe}}P.add(Se)}const be=[];if(p=A(p,{...V,arg:q,next:be}),A===Gt)break;const ne=b(p);if(ne){w.push({fn:Gt,arg:ne,turn:p.ctx.turn,phase:p.ctx.phase,automatic:!0});continue}const ue=I(p);if(ue){w.push({fn:te,arg:ue,turn:p.ctx.turn,phase:p.ctx.phase,automatic:!0});continue}if([E,C,T].includes(A)){const Se=ie(p);if(Se){w.push({fn:Z,arg:Se,turn:p.ctx.turn,phase:p.ctx.phase,automatic:!0});continue}}w.push(...be)}return p}function c(p,{next:w}){return w.push({fn:f}),p}function f(p,{next:w}){let{G:P,ctx:j}=p;return P=_(j).wrapped.onBegin(p),w.push({fn:y}),{...p,G:P,ctx:j}}function y(p,{currentPlayer:w}){let{ctx:P}=p;const j=_(P);w?(P={...P,currentPlayer:w},j.turn.activePlayers&&(P=ys(P,j.turn.activePlayers))):P=By(p,j.turn);const R=P.turn+1;P={...P,turn:R,numMoves:0,_prevActivePlayers:[]};const A=j.turn.wrapped.onBegin({...p,ctx:P});return{...p,G:A,ctx:P,_undo:[],_redo:[]}}function v(p,{arg:w,next:P,phase:j}){const R=_({phase:j});let{ctx:A}=p;if(w&&w.next)if(w.next in l)A={...A,phase:w.next};else return z("invalid phase: "+w.next),p;else A={...A,phase:R.wrapped.next(p)||null};return p={...p,ctx:A},P.push({fn:f}),p}function M(p,{arg:w,currentPlayer:P,next:j}){let{G:R,ctx:A}=p;const q=_(A),{endPhase:V,ctx:be}=Uy(p,P,q.turn,w);return A=be,p={...p,G:R,ctx:A},V?j.push({fn:te,turn:A.turn,phase:A.phase}):j.push({fn:y,currentPlayer:A.currentPlayer}),p}function C(p,{arg:w,playerID:P}){if((typeof w=="string"||w===Ot.NULL)&&(w={stage:w}),typeof w!="object")return p;ms(w);let{ctx:j}=p,{activePlayers:R,_activePlayersMinMoves:A,_activePlayersMaxMoves:q,_activePlayersNumMoves:V}=j;return w.stage!==void 0&&(R===null&&(R={}),R[P]=w.stage,V[P]=0,w.minMoves&&(A===null&&(A={}),A[P]=w.minMoves),w.maxMoves&&(q===null&&(q={}),q[P]=w.maxMoves)),j={...j,activePlayers:R,_activePlayersMinMoves:A,_activePlayersMaxMoves:q,_activePlayersNumMoves:V},{...p,ctx:j}}function T(p,{arg:w}){return{...p,ctx:ys(p.ctx,w)}}function b(p){return S.endIf(p)}function I(p){return _(p.ctx).wrapped.endIf(p)}function ie(p){const w=_(p.ctx),P=p.ctx.numMoves||0;return w.turn.maxMoves&&P>=w.turn.maxMoves?!0:w.turn.wrapped.endIf(p)}function Gt(p,{arg:w,phase:P}){p=te(p,{phase:P}),w===void 0&&(w=!0),p={...p,ctx:{...p.ctx,gameover:w}};const j=S.onEnd(p);return{...p,G:j}}function te(p,{arg:w,next:P,turn:j,automatic:R}){p=Z(p,{turn:j,force:!0,automatic:!0});const{phase:A,turn:q}=p.ctx;if(P&&P.push({fn:v,arg:w,phase:A}),A===null)return p;const be=_(p.ctx).wrapped.onEnd(p),ne={...p.ctx,phase:null},ue=br("endPhase",w),{_stateID:Se}=p,Qe={action:ue,_stateID:Se,turn:q,phase:A};R&&(Qe.automatic=!0);const Yt=[...p.deltalog||[],Qe];return{...p,G:be,ctx:ne,deltalog:Yt}}function Z(p,{arg:w,next:P,turn:j,force:R,automatic:A,playerID:q}){if(j!==p.ctx.turn)return p;const{currentPlayer:V,numMoves:be,phase:ne,turn:ue}=p.ctx,Se=_(p.ctx),Qe=be||0;if(!R&&Se.turn.minMoves&&Qe<Se.turn.minMoves)return`${Se.turn.minMoves}`,p;const Yt=Se.turn.wrapped.onEnd(p);P&&P.push({fn:M,arg:w,currentPlayer:V});let St={...p.ctx,activePlayers:null};if(w&&w.remove){q=q||V;const qt=St.playOrder.filter(ep=>ep!=q),Zh=St.playOrderPos>qt.length-1?0:St.playOrderPos;if(St={...St,playOrder:qt,playOrderPos:Zh},qt.length===0)return P.push({fn:te,turn:ue,phase:ne}),p}const zs=br("endTurn",w),{_stateID:qa}=p,er={action:zs,_stateID:qa,turn:ue,phase:ne};A&&(er.automatic=!0);const $s=[...p.deltalog||[],er];return{...p,G:Yt,ctx:St,deltalog:$s,_undo:[],_redo:[]}}function wt(p,{arg:w,next:P,automatic:j,playerID:R}){R=R||p.ctx.currentPlayer;let{ctx:A,_stateID:q}=p,{activePlayers:V,_activePlayersNumMoves:be,_activePlayersMinMoves:ne,_activePlayersMaxMoves:ue,phase:Se,turn:Qe}=A;const Yt=V!==null&&R in V,St=_(A);if(!w&&Yt){const qt=St.turn.stages[V[R]];qt&&qt.next&&(w=qt.next)}if(P&&P.push({fn:C,arg:w,playerID:R}),!Yt)return p;const zs=be[R]||0;if(ne&&ne[R]&&zs<ne[R])return`${ne[R]}`,p;V={...V},delete V[R],ne&&(ne={...ne},delete ne[R]),ue&&(ue={...ue},delete ue[R]),A=jy({...A,activePlayers:V,_activePlayersMinMoves:ne,_activePlayersMaxMoves:ue});const er={action:br("endStage",w),_stateID:q,turn:Qe,phase:Se};j&&(er.automatic=!0);const $s=[...p.deltalog||[],er];return{...p,ctx:A,deltalog:$s}}function qe(p,w,P){const j=_(p),R=j.turn.stages,{activePlayers:A}=p;if(A&&A[P]!==void 0&&A[P]!==Ot.NULL&&R[A[P]]!==void 0&&R[A[P]].moves!==void 0){const V=R[A[P]].moves;if(w in V)return V[w]}else if(j.moves){if(w in j.moves)return j.moves[w]}else if(w in e)return e[w];return null}function Wt(p,w){const{playerID:P,type:j}=w,{currentPlayer:R,activePlayers:A,_activePlayersMaxMoves:q}=p.ctx,V=qe(p.ctx,j,P),be=!V||typeof V=="function"||V.noLimit!==!0;let{numMoves:ne,_activePlayersNumMoves:ue}=p.ctx;be&&(P===R&&ne++,A&&ue[P]++),p={...p,ctx:{...p.ctx,numMoves:ne,_activePlayersNumMoves:ue}},q&&ue[P]>=q[P]&&(p=wt(p,{playerID:P,automatic:!0}));const Qe=_(p.ctx).turn.wrapped.onMove({...p,playerID:P});return p={...p,G:Qe},d(p,[{fn:E}])}function Jn(p,w,P){return d(p,[{fn:wt,arg:P,playerID:w}])}function Xn(p,w){return d(p,[{fn:wt,playerID:w}])}function Zn(p,w,P){return d(p,[{fn:T,arg:P}])}function Fs(p,w,P){return d(p,[{fn:te,phase:p.ctx.phase,turn:p.ctx.turn,arg:{next:P}}])}function x(p){return d(p,[{fn:te,phase:p.ctx.phase,turn:p.ctx.turn}])}function D(p,w,P){return d(p,[{fn:Z,turn:p.ctx.turn,phase:p.ctx.phase,arg:P}])}function B(p,w,P){return d(p,[{fn:Z,turn:p.ctx.turn,phase:p.ctx.phase,force:!0,arg:P}])}function K(p,w,P){return d(p,[{fn:Gt,turn:p.ctx.turn,phase:p.ctx.phase,arg:P}])}const Y={endStage:Xn,setStage:Jn,endTurn:D,pass:B,endPhase:x,setPhase:Fs,endGame:K,setActivePlayers:Zn},ae=[];s.endTurn!==!1&&ae.push("endTurn"),s.pass!==!1&&ae.push("pass"),s.endPhase!==!1&&ae.push("endPhase"),s.setPhase!==!1&&ae.push("setPhase"),s.endGame!==!1&&ae.push("endGame"),s.setActivePlayers!==!1&&ae.push("setActivePlayers"),s.endStage!==!1&&ae.push("endStage"),s.setStage!==!1&&ae.push("setStage");function lt(p,w){const{type:P,playerID:j,args:R}=w.payload;return typeof Y[P]!="function"?p:Y[P](p,j,...Array.isArray(R)?R:[R])}function Kt(p,w,P){return w.activePlayers?P in w.activePlayers:w.currentPlayer===P}return{ctx:p=>({numPlayers:p,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:p})].map((w,P)=>P+""),playOrderPos:0,phase:h,activePlayers:null}),init:p=>d(p,[{fn:c}]),isPlayerActive:Kt,eventHandlers:Y,eventNames:Object.keys(Y),enabledEventNames:ae,moveMap:a,moveNames:[...u.values()],processMove:Wt,processEvent:lt,getMove:qe}}function tv(e){return e.processMove!==void 0}function js(e){if(tv(e))return e;if(e.name===void 0&&(e.name="default"),e.deltaState===void 0&&(e.deltaState=!1),e.disableUndo===void 0&&(e.disableUndo=!1),e.setup===void 0&&(e.setup=()=>({})),e.moves===void 0&&(e.moves={}),e.playerView===void 0&&(e.playerView=({G:n})=>n),e.plugins===void 0&&(e.plugins=[]),e.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),e.name.includes(" "))throw new Error(e.name+": Game name must not include spaces");const t=ev(e);return{...e,flow:t,moveNames:t.moveNames,pluginNames:e.plugins.map(n=>n.name),processMove:(n,r)=>{let i=t.getMove(n.ctx,r.type,r.playerID);if(mh(i)&&(i=i.move),i instanceof Function){const s=qd(i,ye.MOVE,e.plugins);let o=[];r.args!==void 0&&(o=Array.isArray(r.args)?r.args:[r.args]);const l={...Fn(n),G:n.G,ctx:n.ctx,playerID:r.playerID};return s(l,...o)}return z(`invalid move object: ${r.type}`),n.G}}}function mh(e){return e instanceof Object&&e.move!==void 0}var gl;(function(e){e.UnauthorizedAction="update/unauthorized_action",e.MatchNotFound="update/match_not_found",e.PatchFailed="update/patch_failed"})(gl||(gl={}));var pe;(function(e){e.StaleStateId="action/stale_state_id",e.UnavailableMove="action/unavailable_move",e.InvalidMove="action/invalid_move",e.InactivePlayer="action/inactive_player",e.GameOver="action/gameover",e.ActionDisabled="action/action_disabled",e.ActionInvalid="action/action_invalid",e.PluginActionInvalid="action/plugin_invalid"})(pe||(pe={}));const ki=e=>e.payload.playerID!==null&&e.payload.playerID!==void 0,nv=(e,t,n)=>{function r(s){return s.undoable!==void 0}function i(s){return s instanceof Function}return r(n)?i(n.undoable)?n.undoable({G:e,ctx:t}):n.undoable:!0};function Nc(e,t){if(t.game.disableUndo)return e;const n={G:e.G,ctx:e.ctx,plugins:e.plugins,playerID:t.action.payload.playerID||e.ctx.currentPlayer};return t.action.type==="MAKE_MOVE"&&(n.moveType=t.action.payload.type),{...e,_undo:[...e._undo,n],_redo:[]}}function So(e,t,n){const r={action:t,_stateID:e._stateID,turn:e.ctx.turn,phase:e.ctx.phase},i=e.plugins.log.data.metadata;return i!==void 0&&(r.metadata=i),typeof n=="object"&&n.redact===!0&&(r.redact=!0),{...e,deltalog:[r]}}function Eo(e,t,n){const[r,i]=Qd(e,n);return i?[r,Ee(t,pe.PluginActionInvalid,i)]:[r]}function yh(e){if(!e)return[null,void 0];const{transients:t,...n}=e;return[n,t]}function Ee(e,t,n){return{...e,transients:{error:{type:t,payload:n}}}}const vh=e=>t=>n=>{const r=t(n);switch(n.type){case Ls:return r;default:{const[,i]=yh(e.getState());return typeof i<"u"?(e.dispatch(Yd()),{...r,transients:i}):r}}};function Fa({game:e,isClient:t}){return e=js(e),(n=null,r)=>{let[i]=yh(n);switch(r.type){case Ls:return i;case As:{if(i={...i,deltalog:[]},t)return i;if(i.ctx.gameover!==void 0)return z("cannot call event after game end"),Ee(i,pe.GameOver);if(ki(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return z(`disallowed event: ${r.payload.type}`),Ee(i,pe.InactivePlayer);i=ml(i,{game:e,isClient:!1,playerID:r.payload.playerID});let s=e.flow.processEvent(i,r),o;return[s,o]=Eo(s,i,{game:e,isClient:!1}),o||(s=Nc(s,{game:e,action:r}),{...s,_stateID:i._stateID+1})}case Zr:{const s=i={...i,deltalog:[]},o=e.flow.getMove(i.ctx,r.payload.type,r.payload.playerID||i.ctx.currentPlayer);if(o===null)return z(`disallowed move: ${r.payload.type}`),Ee(i,pe.UnavailableMove);if(t&&o.client===!1)return i;if(i.ctx.gameover!==void 0)return z("cannot make move after game end"),Ee(i,pe.GameOver);if(ki(r)&&!e.flow.isPlayerActive(i.G,i.ctx,r.payload.playerID))return z(`disallowed move: ${r.payload.type}`),Ee(i,pe.InactivePlayer);i=ml(i,{game:e,isClient:t,playerID:r.payload.playerID});const l=e.processMove(i,r.payload);if(l===pl)return z(`invalid move: ${r.payload.type} args: ${r.payload.args}`),Ee(i,pe.InvalidMove);const a={...i,G:l};if(t&&Ly(a,{game:e}))return i;if(i=a,t){let h;return[i,h]=Eo(i,s,{game:e,isClient:!0}),h||{...i,_stateID:i._stateID+1}}i=So(i,r,o),i=e.flow.processMove(i,r.payload);let u;return[i,u]=Eo(i,s,{game:e}),u||(i=Nc(i,{game:e,action:r}),{...i,_stateID:i._stateID+1})}case Ia:case Aa:case Ta:return r.state;case Rs:{if(i={...i,deltalog:[]},e.disableUndo)return z("Undo is not enabled"),Ee(i,pe.ActionDisabled);const{G:s,ctx:o,_undo:l,_redo:a,_stateID:u}=i;if(l.length<2)return z("No moves to undo"),Ee(i,pe.ActionInvalid);const h=l[l.length-1],g=l[l.length-2];if(ki(r)&&r.payload.playerID!==h.playerID)return z("Cannot undo other players' moves"),Ee(i,pe.ActionInvalid);if(h.moveType){const m=e.flow.getMove(g.ctx,h.moveType,h.playerID);if(!nv(s,o,m))return z("Move cannot be undone"),Ee(i,pe.ActionInvalid)}return i=So(i,r),{...i,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:u+1,_undo:l.slice(0,-1),_redo:[h,...a]}}case Ds:{if(i={...i,deltalog:[]},e.disableUndo)return z("Redo is not enabled"),Ee(i,pe.ActionDisabled);const{_undo:s,_redo:o,_stateID:l}=i;if(o.length===0)return z("No moves to redo"),Ee(i,pe.ActionInvalid);const a=o[0];return ki(r)&&r.payload.playerID!==a.playerID?(z("Cannot redo other players' moves"),Ee(i,pe.ActionInvalid)):(i=So(i,r),{...i,G:a.G,ctx:a.ctx,plugins:a.plugins,_stateID:l+1,_undo:[...s,a],_redo:o.slice(1)})}case Ud:return Ay(i,r,{game:e});case Da:{const s=i,o=JSON.parse(JSON.stringify(s)),l=hh(o,r.patch);return l.some(u=>u!==null)?(z(`Patch ${JSON.stringify(r.patch)} apply failed`),Ee(s,gl.PatchFailed,l)):o}default:return i}}}function gh({game:e,numPlayers:t,setupData:n}){e=js(e),t||(t=2);const r=e.flow.ctx(t);let i={G:{},ctx:r,plugins:{}};i=Dy(i,{game:e}),i=ml(i,{game:e,playerID:void 0});const s=Fn(i);i.G=e.setup({...s,ctx:i.ctx},n);let o={...i,_undo:[],_redo:[],_stateID:0};return o=e.flow.init(o),[o]=Qd(o,{game:e}),e.disableUndo||(o._undo=[{G:o.G,ctx:o.ctx,plugins:o.plugins}]),o}class za{constructor({transportDataCallback:t,gameName:n,playerID:r,matchID:i,credentials:s,numPlayers:o}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=t,this.gameName=n||"default",this.playerID=r||null,this.matchID=i||"default",this.credentials=s,this.numPlayers=o||2}subscribeToConnectionStatus(t){this.connectionStatusCallback=t}setConnectionStatus(t){this.isConnected=t,this.connectionStatusCallback()}notifyClient(t){this.transportDataCallback(t)}}var vs;(function(e){e[e.SYNC=0]="SYNC",e[e.ASYNC=1]="ASYNC"})(vs||(vs={}));function Qt(e){return e.type()===vs.SYNC}class rv{type(){return vs.SYNC}connect(){}createMatch(t,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(t,n);console.error("The database connector does not implement a createMatch method.")}listMatches(t){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(t);console.error("The database connector does not implement a listMatches method.")}}const iv=({game:e,unlisted:t,setupData:n,numPlayers:r})=>{const i={gameName:e.name,unlisted:!!t,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(i.setupData=n);for(let s=0;s<r;s++)i.players[s]={id:s};return i},sv=({game:e,numPlayers:t,setupData:n,unlisted:r})=>{(!t||typeof t!="number")&&(t=2);const i=e.validateSetupData&&e.validateSetupData(n,t);if(i!==void 0)return{setupDataError:i};const s=iv({game:e,numPlayers:t,setupData:n,unlisted:r}),o=gh({game:e,numPlayers:t,setupData:n});return{metadata:s,initialState:o}},Mc=e=>Object.values(e.players).map(t=>{const{credentials:n,...r}=t;return r}),ov=e=>{const{credentials:t,...n}=e.payload;return{...e,payload:n}};class lv{constructor(t,n,r,i){this.game=js(t),this.storageAPI=n,this.transportAPI=r,this.subscribeCallback=()=>{},this.auth=i}subscribe(t){this.subscribeCallback=t}async onUpdate(t,n,r,i){if(!t||!t.payload)return{error:"missing action or action payload"};let s;if(Qt(this.storageAPI)?{metadata:s}=this.storageAPI.fetch(r,{metadata:!0}):{metadata:s}=await this.storageAPI.fetch(r,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:i,credentials:t.payload.credentials,metadata:s}))return{error:"unauthorized action"};const o=ov(t),l=r;let a;if(Qt(this.storageAPI)?{state:a}=this.storageAPI.fetch(l,{state:!0}):{state:a}=await this.storageAPI.fetch(l,{state:!0}),a===void 0)return z(`game not found, matchID=[${l}]`),{error:"game not found"};if(a.ctx.gameover!==void 0){z(`game over - matchID=[${l}] - playerID=[${i}] - action[${o.payload.type}]`);return}const u=Fa({game:this.game}),h=Ld(vh),g=_a(u,a,h);if(o.type==Rs||o.type==Ds){const c=a.ctx.activePlayers!==null,f=a.ctx.currentPlayer===i;if(!c&&!f||c&&(a.ctx.activePlayers[i]===void 0||Object.keys(a.ctx.activePlayers).length>1)){z(`playerID=[${i}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(a.G,a.ctx,i)){z(`player not active - playerID=[${i}] - action[${o.payload.type}]`);return}const m=o.type==Zr?this.game.flow.getMove(a.ctx,o.payload.type,i):null;if(o.type==Zr&&!m){z(`move not processed - canPlayerMakeMove=false - playerID=[${i}] - action[${o.payload.type}]`);return}if(a._stateID!==n&&!(m&&mh(m)&&m.ignoreStaleStateID)){z(`invalid stateID, was=[${n}], expected=[${a._stateID}] - playerID=[${i}] - action[${o.payload.type}]`);return}const S=g.getState();g.dispatch(o),a=g.getState(),this.subscribeCallback({state:a,action:o,matchID:r}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[r,n,S,a]}):this.transportAPI.sendAll({type:"update",args:[r,a]});const{deltalog:_,...E}=a;let d;if(s&&(s.gameover===void 0||s.gameover===null)&&(d={...s,updatedAt:Date.now()},a.ctx.gameover!==void 0&&(d.gameover=a.ctx.gameover)),Qt(this.storageAPI))this.storageAPI.setState(l,E,_),d&&this.storageAPI.setMetadata(l,d);else{const c=[this.storageAPI.setState(l,E,_)];d&&c.push(this.storageAPI.setMetadata(l,d)),await Promise.all(c)}}async onSync(t,n,r,i=2){const s=t,o={state:!0,metadata:!0,log:!0,initialState:!0},l=Qt(this.storageAPI)?this.storageAPI.fetch(s,o):await this.storageAPI.fetch(s,o);let{state:a,initialState:u,log:h,metadata:g}=l;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:g}))return{error:"unauthorized"};if(a===void 0){const _=sv({game:this.game,unlisted:!0,numPlayers:i,setupData:void 0});if("setupDataError"in _)return{error:"game requires setupData"};u=a=_.initialState,g=_.metadata,this.subscribeCallback({state:a,matchID:t}),Qt(this.storageAPI)?this.storageAPI.createMatch(s,{initialState:u,metadata:g}):await this.storageAPI.createMatch(s,{initialState:u,metadata:g})}const m=g?Mc(g):void 0,S={state:a,log:h,filteredMetadata:m,initialState:u};this.transportAPI.send({playerID:n,type:"sync",args:[t,S]})}async onConnectionChange(t,n,r,i){const s=t;if(n==null)return;let o;if(Qt(this.storageAPI)?{metadata:o}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:o}=await this.storageAPI.fetch(s,{metadata:!0}),o===void 0)return z(`metadata not found for matchID=[${s}]`),{error:"metadata not found"};if(o.players[n]===void 0)return z(`Player not in the match, matchID=[${s}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:r,metadata:o}))return{error:"unauthorized"};o.players[n].isConnected=i;const l=Mc(o);this.transportAPI.sendAll({type:"matchData",args:[t,l]}),Qt(this.storageAPI)?this.storageAPI.setMetadata(s,o):await this.storageAPI.setMetadata(s,o)}async onChatMessage(t,n,r){const i=t;if(this.auth){const{metadata:s}=await this.storageAPI.fetch(i,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:r,metadata:s}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[t,n]})}}const Ci=(e,t,n)=>({...n,G:e.playerView({G:n.G,ctx:n.ctx,playerID:t}),plugins:Jd(n,{playerID:t,game:e}),deltalog:void 0,_undo:[],_redo:[]}),av=e=>(t,n)=>{switch(n.type){case"patch":{const[r,i,s,o]=n.args,l=_o(o.deltalog,t),a=Ci(e,t,o),u=o._stateID,h=Ci(e,t,s),g=ph(h,a);return{type:"patch",args:[r,i,u,g,l]}}case"update":{const[r,i]=n.args,s=_o(i.deltalog,t),o=Ci(e,t,i);return{type:"update",args:[r,o,s]}}case"sync":{const[r,i]=n.args,s=Ci(e,t,i.state),o=_o(i.log,t),l={...i,state:s,log:o};return{type:"sync",args:[r,l]}}default:return n}};function _o(e,t){return e===void 0?e:e.map(n=>{if(t!==null&&+t==+n.action.payload.playerID||n.redact!==!0)return n;const r={...n.action.payload,args:null},i={...n,action:{...n.action,payload:r}},{redact:s,...o}=i;return o})}const st=Object.create(null);st.open="0";st.close="1";st.ping="2";st.pong="3";st.message="4";st.upgrade="5";st.noop="6";const Fi=Object.create(null);Object.keys(st).forEach(e=>{Fi[st[e]]=e});const uv={type:"error",data:"parser error"},cv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fv=typeof ArrayBuffer=="function",dv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,wh=({type:e,data:t},n,r)=>cv&&t instanceof Blob?n?r(t):Ic(t,r):fv&&(t instanceof ArrayBuffer||dv(t))?n?r(t):Ic(new Blob([t]),r):r(st[e]+(t||"")),Ic=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+r)},n.readAsDataURL(e)},Tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_r=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Tc.length;e++)_r[Tc.charCodeAt(e)]=e;const hv=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),h=new Uint8Array(u);for(r=0;r<n;r+=4)s=_r[e.charCodeAt(r)],o=_r[e.charCodeAt(r+1)],l=_r[e.charCodeAt(r+2)],a=_r[e.charCodeAt(r+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|l>>2,h[i++]=(l&3)<<6|a&63;return u},pv=typeof ArrayBuffer=="function",Sh=(e,t)=>{if(typeof e!="string")return{type:"message",data:Eh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:mv(e.substring(1),t)}:Fi[n]?e.length>1?{type:Fi[n],data:e.substring(1)}:{type:Fi[n]}:uv},mv=(e,t)=>{if(pv){const n=hv(e);return Eh(n,t)}else return{base64:!0,data:e}},Eh=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},_h=String.fromCharCode(30),yv=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{wh(s,!1,l=>{r[o]=l,++i===n&&t(r.join(_h))})})},vv=(e,t)=>{const n=e.split(_h),r=[];for(let i=0;i<n.length;i++){const s=Sh(n[i],t);if(r.push(s),s.type==="error")break}return r},Ph=4;function re(e){if(e)return gv(e)}function gv(e){for(var t in re.prototype)e[t]=re.prototype[t];return e}re.prototype.on=re.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};re.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};re.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};re.prototype.emitReserved=re.prototype.emit;re.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};re.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Nt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function kh(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const wv=setTimeout,Sv=clearTimeout;function Bs(e,t){t.useNativeTimers?(e.setTimeoutFn=wv.bind(Nt),e.clearTimeoutFn=Sv.bind(Nt)):(e.setTimeoutFn=setTimeout.bind(Nt),e.clearTimeoutFn=clearTimeout.bind(Nt))}const Ev=1.33;function _v(e){return typeof e=="string"?Pv(e):Math.ceil((e.byteLength||e.size)*Ev)}function Pv(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}class kv extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ch extends re{constructor(t){super(),this.writable=!1,Bs(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new kv(t,n,r)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Sh(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const xh="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),wl=64,Cv={};let Ac=0,xi=0,Dc;function Rc(e){let t="";do t=xh[e%wl]+t,e=Math.floor(e/wl);while(e>0);return t}function Oh(){const e=Rc(+new Date);return e!==Dc?(Ac=0,Dc=e):e+"."+Rc(Ac++)}for(;xi<wl;xi++)Cv[xh[xi]]=xi;function Nh(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function xv(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let Mh=!1;try{Mh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ov=Mh;function Ih(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ov))return new XMLHttpRequest}catch{}if(!t)try{return new Nt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Nv(){}const Mv=function(){return new Ih({xdomain:!1}).responseType!=null}();class Iv extends Ch{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==r}const n=t&&t.forceBase64;this.supportsBinary=Mv&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};vv(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yv(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Oh()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=Nh(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new it(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class it extends re{constructor(t,n){super(),Bs(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const t=kh(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const n=this.xhr=new Ih(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){this.setTimeoutFn(()=>{this.onError(r)},0);return}typeof document<"u"&&(this.index=it.requestsCount++,it.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Nv,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete it.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}it.requestsCount=0;it.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Lc);else if(typeof addEventListener=="function"){const e="onpagehide"in Nt?"pagehide":"unload";addEventListener(e,Lc,!1)}}function Lc(){for(let e in it.requests)it.requests.hasOwnProperty(e)&&it.requests[e].abort()}const Tv=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Oi=Nt.WebSocket||Nt.MozWebSocket,bc=!0,Av="arraybuffer",jc=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dv extends Ch{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=jc?{}:kh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=bc&&!jc?n?new Oi(t,n):new Oi(t):new Oi(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||Av,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;wh(r,this.supportsBinary,s=>{const o={};try{bc&&this.ws.send(s)}catch{}i&&Tv(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Oh()),this.supportsBinary||(t.b64=1);const i=Nh(t),s=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!!Oi}}const Rv={websocket:Dv,polling:Iv},Lv=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sl(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Lv.exec(e||""),s={},o=14;for(;o--;)s[bv[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=jv(s,s.path),s.queryKey=Bv(s,s.query),s}function jv(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&r.splice(0,1),t.substr(t.length-1,1)=="/"&&r.splice(r.length-1,1),r}function Bv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}class Pt extends re{constructor(t,n={}){super(),t&&typeof t=="object"&&(n=t,t=null),t?(t=Sl(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Sl(n.host).host),Bs(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=xv(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ph,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Rv[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Pt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Pt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Pt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function s(){r||(r=!0,h(),n.close(),n=null)}const o=g=>{const m=new Error("probe error: "+g);m.transport=n.name,s(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function a(){o("socket closed")}function u(g){n&&g.name!==n.name&&s()}const h=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",u),n.open()}onOpen(){if(this.readyState="open",Pt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=_v(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Pt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}Pt.protocol=Ph;function Uv(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Sl(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const Fv=typeof ArrayBuffer=="function",zv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Th=Object.prototype.toString,$v=typeof Blob=="function"||typeof Blob<"u"&&Th.call(Blob)==="[object BlobConstructor]",Vv=typeof File=="function"||typeof File<"u"&&Th.call(File)==="[object FileConstructor]";function $a(e){return Fv&&(e instanceof ArrayBuffer||zv(e))||$v&&e instanceof Blob||Vv&&e instanceof File}function zi(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(zi(e[n]))return!0;return!1}if($a(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return zi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&zi(e[n]))return!0;return!1}function Hv(e){const t=[],n=e.data,r=e;return r.data=El(n,t),r.attachments=t.length,{packet:r,buffers:t}}function El(e,t){if(!e)return e;if($a(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=El(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=El(e[r],t));return n}return e}function Gv(e,t){return e.data=_l(e.data,t),e.attachments=void 0,e}function _l(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_l(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_l(e[n],t));return e}const Wv=5;var U;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(U||(U={}));class Kv{constructor(t){this.replacer=t}encode(t){return(t.type===U.EVENT||t.type===U.ACK)&&zi(t)?(t.type=t.type===U.EVENT?U.BINARY_EVENT:U.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===U.BINARY_EVENT||t.type===U.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Hv(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}class Va extends re{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t),n.type===U.BINARY_EVENT||n.type===U.BINARY_ACK?(this.reconstructor=new Yv(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if($a(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(U[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===U.BINARY_EVENT||r.type===U.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Va.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case U.CONNECT:return typeof n=="object";case U.DISCONNECT:return n===void 0;case U.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case U.EVENT:case U.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case U.ACK:case U.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Yv{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Gv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qv=Object.freeze(Object.defineProperty({__proto__:null,protocol:Wv,get PacketType(){return U},Encoder:Kv,Decoder:Va},Symbol.toStringTag,{value:"Module"}));function Ge(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Qv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ah extends re{constructor(t,n,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ge(t,"open",this.onopen.bind(this)),Ge(t,"packet",this.onpacket.bind(this)),Ge(t,"error",this.onerror.bind(this)),Ge(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Qv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');n.unshift(t);const r={type:U.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,l=n.pop();this._registerAckCallback(o,l),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){const r=this.flags.timeout;if(r===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},r);this.acks[t]=(...s)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...s])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:U.CONNECT,data:t})}):this.packet({type:U.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case U.CONNECT:if(t.data&&t.data.sid){const i=t.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case U.EVENT:case U.BINARY_EVENT:this.onevent(t);break;case U.ACK:case U.BINARY_ACK:this.onack(t);break;case U.DISCONNECT:this.ondisconnect();break;case U.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t)}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:U.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:U.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function qn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};qn.prototype.reset=function(){this.attempts=0};qn.prototype.setMin=function(e){this.ms=e};qn.prototype.setMax=function(e){this.max=e};qn.prototype.setJitter=function(e){this.jitter=e};class Pl extends re{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Bs(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new qn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||qv;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Pt(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ge(n,"open",function(){r.onopen(),t&&t()}),s=Ge(n,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),t?t(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ge(t,"ping",this.onping.bind(this)),Ge(t,"data",this.ondata.bind(this)),Ge(t,"error",this.onerror.bind(this)),Ge(t,"close",this.onclose.bind(this)),Ge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch{this.onclose("parse error")}}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r||(r=new Ah(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const hr={};function $i(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Uv(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=hr[i]&&s in hr[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new Pl(r,t):(hr[i]||(hr[i]=new Pl(r,t)),a=hr[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign($i,{Manager:Pl,Socket:Ah,io:$i,connect:$i});class Dh extends rv{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(t,n){this.initial.set(t,n.initialState),this.setState(t,n.initialState),this.setMetadata(t,n.metadata)}setMetadata(t,n){this.metadata.set(t,n)}setState(t,n,r){if(r&&r.length>0){const i=this.log.get(t)||[];this.log.set(t,[...i,...r])}this.state.set(t,n)}fetch(t,n){const r={};return n.state&&(r.state=this.state.get(t)),n.metadata&&(r.metadata=this.metadata.get(t)),n.log&&(r.log=this.log.get(t)||[]),n.initialState&&(r.initialState=this.initial.get(t)),r}wipe(t){this.state.delete(t),this.metadata.delete(t)}listMatches(t){return[...this.metadata.entries()].filter(([,n])=>t?!(t.gameName!==void 0&&n.gameName!==t.gameName||t.where!==void 0&&(t.where.isGameover!==void 0&&n.gameover!==void 0!==t.where.isGameover||t.where.updatedBefore!==void 0&&n.updatedAt>=t.where.updatedBefore||t.where.updatedAfter!==void 0&&n.updatedAt<=t.where.updatedAfter)):!0).map(([n])=>n)}}class Jv extends Map{constructor(t){super(),this.key=t,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(r=>this.set(...r))}sync(){const t=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(t))}set(t,n){return super.set(t,n),this.sync(),this}delete(t){const n=super.delete(t);return this.sync(),n}}class Xv extends Dh{constructor(t="bgio"){super();const n=r=>new Jv(`${t}_${r}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function Zv(e,t){if(e.ctx.gameover!==void 0)return null;if(e.ctx.activePlayers){for(const n of Object.keys(t))if(n in e.ctx.activePlayers)return n}else if(e.ctx.currentPlayer in t)return e.ctx.currentPlayer;return null}class eg extends lv{constructor({game:t,bots:n,storageKey:r,persist:i}){const s={},o={};if(t&&t.ai&&n)for(const g in n){const m=n[g];o[g]=new m({game:t,enumerate:t.ai.enumerate,seed:t.seed})}const l=({playerID:g,...m})=>{const S=s[g];S!==void 0&&S(a(g,m))},a=av(t),u={send:l,sendAll:g=>{for(const m in s)l({playerID:m,...g})}},h=i?new Xv(r):new Dh;super(t,h,u),this.connect=(g,m)=>{s[g]=m},this.subscribe(({state:g,matchID:m})=>{if(!n)return;const S=Zv(g,o);S!==null&&setTimeout(async()=>{const _=await o[S].play(g,S);await this.onUpdate(_.action,g._stateID,m,_.action.payload.playerID)},100)})}}class tg extends za{constructor({master:t,...n}){super(n),this.master=t}sendChatMessage(t,n){const r=[t,n,this.credentials];this.master.onChatMessage(...r)}sendAction(t,n){this.master.onUpdate(n,t._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,t=>this.notifyClient(t)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(t){this.matchID=t,this.connect()}updatePlayerID(t){this.playerID=t,this.connect()}updateCredentials(t){this.credentials=t,this.connect()}}const Bc=new Map;function Rh({bots:e,persist:t,storageKey:n}={}){return r=>{const{gameKey:i,game:s}=r;let o;const l=Bc.get(i);return l&&l.bots===e&&l.storageKey===n&&l.persist===t&&(o=l.master),o||(o=new eg({game:s,bots:e,persist:t,storageKey:n}),Bc.set(i,{master:o,bots:e,persist:t,storageKey:n})),new tg({master:o,...r})}}const Uc=$i;class ng extends za{constructor({socket:t,socketOpts:n,server:r,...i}){super(i),this.server=r,this.socket=t,this.socketOpts=n}sendAction(t,n){const r=[n,t._stateID,this.matchID,this.playerID];this.socket.emit("update",...r)}sendChatMessage(t,n){const r=[t,n,this.credentials];this.socket.emit("chat",...r)}connect(){if(!this.socket)if(this.server){let t=this.server;t.search(/^https?:\/\//)==-1&&(t="http://"+this.server),t.slice(-1)!="/"&&(t=t+"/"),this.socket=Uc(t+this.gameName,this.socketOpts)}else this.socket=Uc("/"+this.gameName,this.socketOpts);this.socket.on("patch",(t,n,r,i,s)=>{this.notifyClient({type:"patch",args:[t,n,r,i,s]})}),this.socket.on("update",(t,n,r)=>{this.notifyClient({type:"update",args:[t,n,r]})}),this.socket.on("sync",(t,n)=>{this.notifyClient({type:"sync",args:[t,n]})}),this.socket.on("matchData",(t,n)=>{this.notifyClient({type:"matchData",args:[t,n]})}),this.socket.on("chat",(t,n)=>{this.notifyClient({type:"chat",args:[t,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const t=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...t)}}updateMatchID(t){this.matchID=t,this.requestSync()}updatePlayerID(t){this.playerID=t,this.requestSync()}updateCredentials(t){this.credentials=t,this.requestSync()}}function Fc({server:e,socketOpts:t}={}){return n=>new ng({server:e,socketOpts:t,...n})}let rg="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ig=(e=21)=>{let t="",n=e;for(;n--;)t+=rg[Math.random()*64|0];return t};(function(e,t){if(e.setImmediate)return;var n=1,r={},i=!1,s=e.document,o;function l(f){typeof f!="function"&&(f=new Function(""+f));for(var y=new Array(arguments.length-1),v=0;v<y.length;v++)y[v]=arguments[v+1];var M={callback:f,args:y};return r[n]=M,o(n),n++}function a(f){delete r[f]}function u(f){var y=f.callback,v=f.args;switch(v.length){case 0:y();break;case 1:y(v[0]);break;case 2:y(v[0],v[1]);break;case 3:y(v[0],v[1],v[2]);break;default:y.apply(t,v);break}}function h(f){if(i)setTimeout(h,0,f);else{var y=r[f];if(y){i=!0;try{u(y)}finally{a(f),i=!1}}}}function g(){o=function(f){process.nextTick(function(){h(f)})}}function m(){if(e.postMessage&&!e.importScripts){var f=!0,y=e.onmessage;return e.onmessage=function(){f=!1},e.postMessage("","*"),e.onmessage=y,f}}function S(){var f="setImmediate$"+Math.random()+"$",y=function(v){v.source===e&&typeof v.data=="string"&&v.data.indexOf(f)===0&&h(+v.data.slice(f.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),o=function(v){e.postMessage(f+v,"*")}}function _(){var f=new MessageChannel;f.port1.onmessage=function(y){var v=y.data;h(v)},o=function(y){f.port2.postMessage(y)}}function E(){var f=s.documentElement;o=function(y){var v=s.createElement("script");v.onreadystatechange=function(){h(y),v.onreadystatechange=null,f.removeChild(v),v=null},f.appendChild(v)}}function d(){o=function(f){setTimeout(h,0,f)}}var c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,{}.toString.call(e.process)==="[object process]"?g():m()?S():e.MessageChannel?_():s&&"onreadystatechange"in s.createElement("script")?E():d(),c.setImmediate=l,c.clearImmediate=a})(typeof self>"u"?Pr:self);class sg{constructor({enumerate:t,seed:n}){this.enumerateFn=t,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:t,range:n,initial:r}){this._opts[t]={range:n,value:r}}getOpt(t){return this._opts[t].value}setOpt(t,n){t in this._opts&&(this._opts[t].value=n)}opts(){return this._opts}enumerate(t,n,r){return this.enumerateFn(t,n,r).map(s=>{if("payload"in s)return s;if("move"in s)return Fd(s.move,s.args,r);if("event"in s)return br(s.event,s.args,r)})}random(t){let n;if(this.seed!==void 0){const r=this.prngstate?"":this.seed,i=Bd(r,this.prngstate);n=i(),this.prngstate=i.state()}else n=Math.random();if(t)if(Array.isArray(t)){const r=Math.floor(n*t.length);return t[r]}else return Math.floor(n*t);return n}}const og=25;class lg extends sg{constructor({enumerate:t,seed:n,objectives:r,game:i,iterations:s,playoutDepth:o,iterationCallback:l}){super({enumerate:t,seed:n}),r===void 0&&(r=()=>({})),this.objectives=r,this.iterationCallback=l||(()=>{}),this.reducer=Fa({game:i}),this.iterations=s,this.playoutDepth=o,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof s=="number"?s:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof o=="number"?o:50,range:{min:1,max:100}})}createNode({state:t,parentAction:n,parent:r,playerID:i}){const{G:s,ctx:o}=t;let l=[],a=[];if(i!==void 0)l=this.enumerate(s,o,i),a=this.objectives(s,o,i);else if(o.activePlayers)for(const u in o.activePlayers)l.push(...this.enumerate(s,o,u)),a.push(this.objectives(s,o,u));else l=this.enumerate(s,o,o.currentPlayer),a=this.objectives(s,o,o.currentPlayer);return{state:t,parent:r,parentAction:n,actions:l,objectives:a,children:[],visits:0,value:0}}select(t){if(t.actions.length>0||t.children.length===0)return t;let n=null,r=0;for(const i of t.children){const s=i.visits+Number.EPSILON,o=i.value/s+Math.sqrt(2*Math.log(t.visits)/s);(n==null||o>r)&&(r=o,n=i)}return this.select(n)}expand(t){const n=t.actions;if(n.length===0||t.state.ctx.gameover!==void 0)return t;const r=this.random(n.length),i=n[r];t.actions.splice(r,1);const s=this.reducer(t.state,i),o=this.createNode({state:s,parentAction:i,parent:t});return t.children.push(o),o}playout({state:t}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(t.G,t.ctx));for(let r=0;r<n&&t.ctx.gameover===void 0;r++){const{G:i,ctx:s}=t;let o=s.currentPlayer;s.activePlayers&&(o=Object.keys(s.activePlayers)[0]);const l=this.enumerate(i,s,o),a=this.objectives(i,s,o),u=Object.keys(a).reduce((m,S)=>{const _=a[S];return _.checker(i,s)?m+_.weight:m},0);if(u>0)return{score:u};if(!l||l.length===0)return;const h=this.random(l.length);t=this.reducer(t,l[h])}return t.ctx.gameover}backpropagate(t,n={}){t.visits++,n.score!==void 0&&(t.value+=n.score),n.draw===!0&&(t.value+=.5),t.parentAction&&n.winner===t.parentAction.payload.playerID&&t.value++,t.parent&&this.backpropagate(t.parent,n)}play(t,n){const r=this.createNode({state:t,playerID:n});let i=this.getOpt("iterations");typeof this.iterations=="function"&&(i=this.iterations(t.G,t.ctx));const s=()=>{let o=null;for(const u of r.children)(o==null||u.visits>o.visits)&&(o=u);return{action:o&&o.parentAction,metadata:r}};return new Promise(o=>{const l=()=>{for(let a=0;a<og&&this.iterationCounter<i;a++){const u=this.select(r),h=this.expand(u),g=this.playout(h);this.backpropagate(h,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:i,metadata:r})};if(this.iterationCounter=0,this.getOpt("async")){const a=()=>{this.iterationCounter<i?(l(),setImmediate(a)):o(s())};a()}else{for(;this.iterationCounter<i;)l();o(s())}})}}Promise.resolve();class ag extends za{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const ug=e=>new ag(e);class cg{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(t){this.clients.set(t,t),this.mountDebug(t),this.notifySubscribers()}unregister(t){if(this.clients.delete(t),this.currentClient===t){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(t){const n=Symbol();return this.subscribers.set(n,t),t(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(t){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===t&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(t),this.notifySubscribers()}switchToClient(t){t!==this.currentClient&&(this.unmountDebug(),this.mountDebug(t),this.notifySubscribers())}notifySubscribers(){const t=this.getState();this.subscribers.forEach(n=>{n(t)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(t=>t.debugOpt!==!1)}mountDebug(t){if(t.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,r=document.body;t.debugOpt&&t.debugOpt!==!0&&(n=t.debugOpt.impl||n,r=t.debugOpt.target||r),n&&(this.currentClient=t,this.debugPanel=new n({target:r,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const fg=new cg;function kl(e,t,n){return!n&&e==null&&(e=t.getState().ctx.currentPlayer),e}function Ha(e,t,n,r,i,s){const o={};for(const l of t)o[l]=(...a)=>{const u=xy[e](l,a,kl(r,n,s),i);n.dispatch(u)};return o}const dg=Ha.bind(null,"makeMove"),hg=Ha.bind(null,"gameEvent"),pg=Ha.bind(null,"plugin");class mg{constructor({game:t,debug:n,numPlayers:r,multiplayer:i,matchID:s,playerID:o,credentials:l,enhancer:a}){this.game=js(t),this.playerID=o,this.matchID=s||"default",this.credentials=l,this.multiplayer=i,this.debugOpt=n,this.manager=fg,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Fa({game:this.game,isClient:i!==void 0}),this.initialState=null,i||(this.initialState=gh({game:this.game,numPlayers:r})),this.reset=()=>{this.store.dispatch(Gd(this.initialState))},this.undo=()=>{const S=Wd(kl(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=Kd(kl(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const m=Ld(vh,()=>S=>_=>{const E=S(_);return this.notifySubscribers(),E},S=>_=>E=>{const d=S.getState(),c=_(E);return!("clientOnly"in E)&&E.type!==Ls&&this.transport.sendAction(d,E),c},S=>_=>E=>{const d=_(E),c=S.getState();switch(E.type){case Zr:case As:case Rs:case Ds:{const f=c.deltalog;this.log=[...this.log,...f];break}case Ia:{this.log=[];break}case Da:case Aa:{let f=-1;this.log.length>0&&(f=this.log[this.log.length-1]._stateID);let y=E.deltalog||[];y=y.filter(v=>v._stateID>f),this.log=[...this.log,...y];break}case Ta:{this.initialState=E.initialState,this.log=E.log||[];break}}return d});a=a!==void 0?Rd(m,a):m,this.store=_a(this.reducer,this.initialState,a),i||(i=ug),this.transport=i({transportDataCallback:S=>this.receiveTransportData(S),gameKey:t,game:this.game,matchID:s,playerID:o,credentials:l,gameName:this.game.name,numPlayers:r}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:ig(7),sender:this.playerID,payload:S})}}receiveMatchData(t){this.matchData=t,this.notifySubscribers()}receiveChatMessage(t){this.chatMessages=[...this.chatMessages,t],this.notifySubscribers()}receiveTransportData(t){const[n]=t.args;if(n===this.matchID)switch(t.type){case"sync":{const[,r]=t.args,i=$d(r);this.receiveMatchData(r.filteredMetadata),this.store.dispatch(i);break}case"update":{const[,r,i]=t.args,s=this.store.getState();if(r._stateID>=s._stateID){const o=Hd(r,i);this.store.dispatch(o)}break}case"patch":{const[,r,i,s,o]=t.args,l=this.store.getState()._stateID;if(r!==l)break;const a=Vd(r,i,s,o);this.store.dispatch(a),this.store.getState()._stateID===l&&this.transport.requestSync();break}case"matchData":{const[,r]=t.args;this.receiveMatchData(r);break}case"chat":{const[,r]=t.args;this.receiveChatMessage(r);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(t=>t(this.getState()))}overrideGameState(t){this.gameStateOverride=t,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(t){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=t,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&t(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let t=this.store.getState();if(this.gameStateOverride!==null&&(t=this.gameStateOverride),t===null)return t;let n=!0;const r=this.game.flow.isPlayerActive(t.G,t.ctx,this.playerID);return this.multiplayer&&!r&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!r&&(n=!1),t.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(t={...t,G:this.game.playerView({G:t.G,ctx:t.ctx,playerID:this.playerID}),plugins:Jd(t,this)}),{...t,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=dg(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=hg(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=pg(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(t){this.playerID=t,this.createDispatchers(),this.transport.updatePlayerID(t),this.notifySubscribers()}updateMatchID(t){this.matchID=t,this.createDispatchers(),this.transport.updateMatchID(t),this.notifySubscribers()}updateCredentials(t){this.credentials=t,this.createDispatchers(),this.transport.updateCredentials(t),this.notifySubscribers()}}function yg(e){return new mg(e)}const Lh=(e,t)=>{if(!e||typeof e!="string")throw new Error(`Expected ${t} string, got "${e}".`)},Jt=e=>Lh(e,"game name"),pr=e=>Lh(e,"match ID"),mr=(e,t)=>{if(!e)throw new Error(`Expected body, got \u201C${e}\u201D.`);for(const n in t){const r=t[n],i=Array.isArray(r)?r:[r],s=e[n];if(!i.includes(typeof s)){const o=i.join("|");throw new TypeError(`Expected body.${n} to be of type ${o}, got \u201C${s}\u201D.`)}}};class vg extends Error{constructor(t,n){super(t),this.details=n}}class gg{constructor({server:t=""}={}){this.server=t.replace(/\/$/,"")}async request(t,n){const r=await fetch(this.server+t,n);if(!r.ok){let i;try{i=await r.clone().json()}catch{try{i=await r.text()}catch(s){i=s.message}}throw new vg(`HTTP status ${r.status}`,i)}return r.json()}async post(t,n){let r={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(r={...r,...n.init,headers:{...r.headers,...n.init.headers}}),this.request(t,r)}async listGames(t){return this.request("/games",t)}async listMatches(t,n,r){Jt(t);let i="";if(n){const s=[],{isGameover:o,updatedBefore:l,updatedAfter:a}=n;o!==void 0&&s.push(`isGameover=${o}`),l&&s.push(`updatedBefore=${l}`),a&&s.push(`updatedAfter=${a}`),s.length>0&&(i="?"+s.join("&"))}return this.request(`/games/${t}${i}`,r)}async getMatch(t,n,r){return Jt(t),pr(n),this.request(`/games/${t}/${n}`,r)}async createMatch(t,n,r){return Jt(t),mr(n,{numPlayers:"number"}),this.post(`/games/${t}/create`,{body:n,init:r})}async joinMatch(t,n,r,i){return Jt(t),pr(n),mr(r,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${t}/${n}/join`,{body:r,init:i})}async leaveMatch(t,n,r,i){Jt(t),pr(n),mr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/leave`,{body:r,init:i})}async updatePlayer(t,n,r,i){Jt(t),pr(n),mr(r,{playerID:"string",credentials:"string"}),await this.post(`/games/${t}/${n}/update`,{body:r,init:i})}async playAgain(t,n,r,i){return Jt(t),pr(n),mr(r,{playerID:"string",credentials:"string"}),this.post(`/games/${t}/${n}/playAgain`,{body:r,init:i})}}var We={exports:{}},wg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sg=wg,Eg=Sg;function bh(){}function jh(){}jh.resetWarningCache=bh;var _g=function(){function e(r,i,s,o,l,a){if(a!==Eg){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jh,resetWarningCache:bh};return n.PropTypes=n,n};We.exports=_g();var gt={},Ga={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */Ga.parse=xg;Ga.serialize=Og;var Pg=decodeURIComponent,kg=encodeURIComponent,Cg=/; */,Ni=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function xg(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(Cg),s=r.decode||Pg,o=0;o<i.length;o++){var l=i[o],a=l.indexOf("=");if(!(a<0)){var u=l.substr(0,a).trim(),h=l.substr(++a,l.length).trim();h[0]=='"'&&(h=h.slice(1,-1)),n[u]==null&&(n[u]=Ng(h,s))}}return n}function Og(e,t,n){var r=n||{},i=r.encode||kg;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Ni.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!Ni.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Ni.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Ni.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var a=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(a){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Ng(e,t){try{return t(e)}catch{return e}}Object.defineProperty(gt,"__esModule",{value:!0});var Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};gt.load=zh;gt.loadAll=$h;gt.select=Vh;gt.save=Hh;gt.remove=Gh;gt.setRawCookie=Wa;gt.plugToRequest=Wh;var Ig=Ga,Qn=Uh(Ig),Tg=Cl,Bh=Uh(Tg);function Uh(e){return e&&e.__esModule?e:{default:e}}var Us=typeof document>"u"||typeof process<"u"&&process.env&&!1,Te={},$t=void 0;function Fh(){return $t&&!$t.headersSent}function zh(e,t){var n=Us?Te:Qn.default.parse(document.cookie),r=n&&n[e];if(typeof t>"u"&&(t=!r||r[0]!=="{"&&r[0]!=="["),!t)try{r=JSON.parse(r)}catch{}return r}function $h(e){var t=Us?Te:Qn.default.parse(document.cookie),n=t;if(typeof e>"u"&&(e=!n||n[0]!=="{"&&n[0]!=="["),!e)try{n=JSON.parse(n)}catch{}return n}function Vh(e){var t=Us?Te:Qn.default.parse(document.cookie);return t?e?Object.keys(t).reduce(function(n,r){if(!e.test(r))return n;var i={};return i[r]=t[r],(0,Bh.default)({},n,i)},{}):t:{}}function Hh(e,t,n){Te[e]=t,(typeof t>"u"?"undefined":Mg(t))==="object"&&(Te[e]=JSON.stringify(t)),Us||(document.cookie=Qn.default.serialize(e,Te[e],n)),Fh()&&$t.cookie&&$t.cookie(e,t,n)}function Gh(e,t){delete Te[e],typeof t>"u"?t={}:typeof t=="string"?t={path:t}:t=(0,Bh.default)({},t),typeof document<"u"&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=Qn.default.serialize(e,"",t)),Fh()&&$t.clearCookie&&$t.clearCookie(e,t)}function Wa(e){e?Te=Qn.default.parse(e):Te={}}function Wh(e,t){return e.cookie?Te=e.cookie:e.cookies?Te=e.cookies:e.headers&&e.headers.cookie?Wa(e.headers.cookie):Te={},$t=t,function(){$t=null,Te={}}}var zc=gt.default={setRawCookie:Wa,load:zh,loadAll:$h,select:Vh,save:Hh,remove:Gh,plugToRequest:Wh},Ka={exports:{}},ci={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=ti.exports,Kh=60103;ci.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var $c=Symbol.for;Kh=$c("react.element"),ci.Fragment=$c("react.fragment")}var Dg=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rg=Object.prototype.hasOwnProperty,Lg={key:!0,ref:!0,__self:!0,__source:!0};function Yh(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Rg.call(t,r)&&!Lg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Kh,type:e,key:s,ref:o,props:i,_owner:Dg.current}}ci.jsx=Yh;ci.jsxs=Yh;(function(e){e.exports=ci})(Ka);const O=Ka.exports.jsx,fe=Ka.exports.jsxs;function qh(e){var t;const{game:n,numPlayers:r,board:i,multiplayer:s,enhancer:o}=e;let{loading:l,debug:a}=e;return l===void 0&&(l=()=>O("div",{className:"bgio-loading",children:"connecting..."})),t=class extends ht.Component{constructor(h){super(h),a===void 0&&(a=h.debug),this.client=yg({game:n,debug:a,numPlayers:r,multiplayer:s,matchID:h.matchID,playerID:h.playerID,credentials:h.credentials,enhancer:o})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(h){this.props.matchID!=h.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=h.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=h.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const h=this.client.getState();if(h===null)return ht.createElement(l);let g=null;return i&&(g=ht.createElement(i,{...h,...this.props,isMultiplayer:!!s,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),O("div",{className:"bgio-client",children:g})}},t.propTypes={matchID:We.exports.string,playerID:We.exports.string,credentials:We.exports.string,debug:We.exports.any},t.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},t}class bg{constructor({server:t,gameComponents:n,playerName:r,playerCredentials:i}){this.client=new gg({server:t}),this.gameComponents=n,this.playerName=r||"Visitor",this.playerCredentials=i,this.matches=[]}async refresh(){try{this.matches=[];const t=await this.client.listGames();for(const n of t){if(!this._getGameComponents(n))continue;const{matches:r}=await this.client.listMatches(n);this.matches.push(...r)}}catch(t){throw new Error("failed to retrieve list of matches ("+t+")")}}_getMatchInstance(t){for(const n of this.matches)if(n.matchID===t)return n}_getGameComponents(t){for(const n of this.gameComponents)if(n.game.name===t)return n}_findPlayer(t){for(const n of this.matches)if(n.players.some(r=>r.name===t))return n}async join(t,n,r){try{let i=this._findPlayer(this.playerName);if(i)throw new Error("player has already joined "+i.matchID);if(i=this._getMatchInstance(n),!i)throw new Error("game instance "+n+" not found");const s=await this.client.joinMatch(t,n,{playerID:r,playerName:this.playerName});i.players[Number.parseInt(r)].name=this.playerName,this.playerCredentials=s.playerCredentials}catch(i){throw new Error("failed to join match "+n+" ("+i+")")}}async leave(t,n){try{const r=this._getMatchInstance(n);if(!r)throw new Error("match instance not found");for(const i of r.players)if(i.name===this.playerName){await this.client.leaveMatch(t,n,{playerID:i.id.toString(),credentials:this.playerCredentials}),delete i.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(r){throw new Error("failed to leave match "+n+" ("+r+")")}}async disconnect(){const t=this._findPlayer(this.playerName);t&&await this.leave(t.gameName,t.matchID),this.matches=[],this.playerName="Visitor"}async create(t,n){try{const r=this._getGameComponents(t);if(!r)throw new Error("game not found");if(n<r.game.minPlayers||n>r.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(t,{numPlayers:n})}catch(r){throw new Error("failed to create match for "+t+" ("+r+")")}}}function jg(e){return new bg(e)}class Qh extends ht.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=t=>{t.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=t=>{const n=t.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return fe("div",{children:[O("p",{className:"phase-title",children:"Choose a player name:"}),O("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),O("span",{className:"buttons",children:O("button",{className:"buttons",onClick:this.onClickEnter,children:"Enter"})}),O("br",{}),fe("span",{className:"error-msg",children:[this.state.nameErrorMsg,O("br",{})]})]})}}Qh.defaultProps={playerName:""};class Bg extends ht.Component{constructor(){super(...arguments),this._createSeat=t=>t.name||"[free]",this._createButtonJoin=(t,n)=>O("button",{onClick:()=>this.props.onClickJoin(t.gameName,t.matchID,""+n),children:"Join"},"button-join-"+t.matchID),this._createButtonLeave=t=>O("button",{onClick:()=>this.props.onClickLeave(t.gameName,t.matchID),children:"Leave"},"button-leave-"+t.matchID),this._createButtonPlay=(t,n)=>O("button",{onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,playerID:""+n,numPlayers:t.players.length}),children:"Play"},"button-play-"+t.matchID),this._createButtonSpectate=t=>O("button",{onClick:()=>this.props.onClickPlay(t.gameName,{matchID:t.matchID,numPlayers:t.players.length}),children:"Spectate"},"button-spectate-"+t.matchID),this._createInstanceButtons=t=>{const n=t.players.find(i=>i.name===this.props.playerName),r=t.players.find(i=>!i.name);return n&&r?this._createButtonLeave(t):r?this._createButtonJoin(t,r.id):n?O("div",{children:[this._createButtonPlay(t,n.id),this._createButtonLeave(t)]}):this._createButtonSpectate(t)}}render(){const t=this.props.match;let n="OPEN";return t.players.some(r=>!r.name)||(n="RUNNING"),fe("tr",{children:[O("td",{children:t.gameName},"cell-name-"+t.matchID),O("td",{children:n},"cell-status-"+t.matchID),O("td",{children:t.players.map(r=>this._createSeat(r)).join(", ")},"cell-seats-"+t.matchID),O("td",{children:this._createInstanceButtons(t)},"cell-buttons-"+t.matchID)]},"line-"+t.matchID)}}class Ug extends ht.Component{constructor(t){super(t),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,r)=>O("option",{value:r,children:n.game.name},"name-option-"+r),this._createNumPlayersOption=n=>O("option",{value:n,children:n},"num-option-"+n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((r,i)=>i).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const r=Number.parseInt(n.target.value);this.setState({selectedGame:r,numPlayers:this.props.games[r].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of t.games){const r=n.game;r.minPlayers||(r.minPlayers=1),r.maxPlayers||(r.maxPlayers=4),console.assert(r.maxPlayers>=r.minPlayers)}this.state={selectedGame:0,numPlayers:t.games[0].game.minPlayers}}render(){return fe("div",{children:[O("select",{value:this.state.selectedGame,onChange:t=>this.onChangeSelectedGame(t),children:this.props.games.map((t,n)=>this._createGameNameOption(t,n))}),O("span",{children:"Players:"}),O("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers,children:this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(t=>this._createNumPlayersOption(t))}),O("span",{className:"buttons",children:O("button",{onClick:this.onClickCreate,children:"Create"})})]})}}var xe;(function(e){e.ENTER="enter",e.PLAY="play",e.LIST="list"})(xe||(xe={}));class Jh extends ht.Component{constructor(t){super(t),this.state={phase:xe.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const r=this.state.playerName;this.connection=jg({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:r,playerCredentials:this.state.credentialStore[r]})},this._updateCredentials=(n,r)=>{this.setState(i=>{const s=Object.assign({},i.credentialStore);return s[n]=r,{credentialStore:s}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:xe.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:xe.ENTER,errorMsg:""})},this._createMatch=async(n,r)=>{try{await this.connection.create(n,r),await this.connection.refresh(),this.setState({})}catch(i){this.setState({errorMsg:i.message})}},this._joinMatch=async(n,r,i)=>{try{await this.connection.join(n,r,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(s){this.setState({errorMsg:s.message})}},this._leaveMatch=async(n,r)=>{try{await this.connection.leave(n,r),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(i){this.setState({errorMsg:i.message})}},this._startMatch=(n,r)=>{const i=this.connection._getGameComponents(n);if(!i){this.setState({errorMsg:"game "+n+" not supported"});return}let s;if(r.numPlayers>1&&(s=this.props.gameServer?Fc({server:this.props.gameServer}):Fc()),r.numPlayers==1){const a=i.game.maxPlayers,u={};for(let h=1;h<a;h++)u[h+""]=lg;s=Rh({bots:u})}const l={app:this.props.clientFactory({game:i.game,board:i.board,debug:this.props.debug,multiplayer:s}),matchID:r.matchID,playerID:r.numPlayers>1?r.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:xe.PLAY,runningMatch:l})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:xe.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,r)=>n.map(i=>{const{matchID:s,gameName:o,players:l}=i;return O(Bg,{match:{matchID:s,gameName:o,players:Object.values(l)},playerName:r,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch},"instance-"+s)}),this._createConnection(this.props)}componentDidMount(){const t=zc.load("lobbyState")||{};t.phase&&t.phase===xe.PLAY&&(t.phase=xe.LIST),t.phase&&t.phase!==xe.ENTER&&this._startRefreshInterval(),this.setState({phase:t.phase||xe.ENTER,playerName:t.playerName||"Visitor",credentialStore:t.credentialStore||{}})}componentDidUpdate(t,n){const r=this.state.playerName,i=this.state.credentialStore[r];if(n.phase!==this.state.phase||n.credentialStore[r]!==i||n.playerName!==r){this._createConnection(this.props),this._updateConnection();const s={phase:this.state.phase,playerName:r,credentialStore:this.state.credentialStore};zc.save("lobbyState",s,{path:"/"})}t.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:t,renderer:n}=this.props,{errorMsg:r,playerName:i,phase:s,runningMatch:o}=this.state;return n?n({errorMsg:r,gameComponents:t,matches:this.connection.matches,phase:s,playerName:i,runningMatch:o,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):fe("div",{id:"lobby-view",style:{padding:50},children:[O("div",{className:this._getPhaseVisibility(xe.ENTER),children:O(Qh,{playerName:i,onEnter:this._enterLobby},i)}),fe("div",{className:this._getPhaseVisibility(xe.LIST),children:[fe("p",{children:["Welcome, ",i]}),fe("div",{className:"phase-title",id:"match-creation",children:[O("span",{children:"Create a match:"}),O(Ug,{games:t,createMatch:this._createMatch})]}),O("p",{className:"phase-title",children:"Join a match:"}),fe("div",{id:"instances",children:[O("table",{children:O("tbody",{children:this.renderMatches(this.connection.matches,i)})}),fe("span",{className:"error-msg",children:[r,O("br",{})]})]}),O("p",{className:"phase-title",children:"Matches that become empty are automatically deleted."})]}),fe("div",{className:this._getPhaseVisibility(xe.PLAY),children:[o&&ht.createElement(o.app,{matchID:o.matchID,playerID:o.playerID,credentials:o.credentials}),O("div",{className:"buttons",id:"match-exit",children:O("button",{onClick:this._exitMatch,children:"Exit match"})})]}),O("div",{className:"buttons",id:"lobby-exit",children:O("button",{onClick:this._exitLobby,children:"Exit lobby"})})]})}}Jh.propTypes={gameComponents:We.exports.array.isRequired,lobbyServer:We.exports.string,gameServer:We.exports.string,debug:We.exports.bool,clientFactory:We.exports.func,refreshInterval:We.exports.number};Jh.defaultProps={debug:!1,clientFactory:qh,refreshInterval:2e3};const Fg=[1,1,1,1,2,1,1,1,1,3,5,1,1,1,2,1,1,1,1,3,1,5,1,1,2,1,1,1,1,3,1,1,5,1,1,1,1,1,3,1,1,1,5,2,1,1,1,1,3,1,1,1,1,5,1,1,1,1,3,1,1,1,1,2,5,1,1,1,3,1,1,1,1,2,1,5,1,1,3,1,1,1,1,2,1,1,5,1,3,1,1,1,1,2,1,1,1,5,3,1,1,1,1],zg=(e,t)=>{const n=Math.min(...e.map(t));return e.find(r=>t(r)===n)},$g=Fg.map((e,t)=>({val:t+1,bulls:e})),Vg=({ctx:e,random:t})=>{const n={},r=t.Shuffle($g),i=[[r.shift()],[r.shift()],[r.shift()],[r.shift()]];for(let s=0;s<e.numPlayers;++s)n[s+""]={hand:r.splice(0,10).sort(),score:0,resolved:!1};return{players:n,deck:r,piles:i,resolveCounter:0}},Hg=({G:e,ctx:t},n,r)=>{const i=e.players[r];i.playedCard=i.hand.splice(n,1)[0],Object.values(e.players).every(s=>s.playedCard)&&Gg(e)},Gg=e=>(e.resolveOrder=Object.entries(e.players).sort(([t,n],[r,i])=>n.playedCard.val-i.playedCard.val).map(([t,n])=>t),e),Wg=({G:e,ctx:t,events:n})=>{if(!e.piles.every(s=>s.length>0))throw Error("selectPile: One or more of the piles is empty when it shouldn't be");const r=e.players[t.currentPlayer],i=r.playedCard;if(i){const s=e.piles.findIndex(o=>i.val-o[o.length-1].val===Math.min(...e.piles.map(l=>i.val-l[l.length-1].val).filter(l=>l>0)));s===-1?n.setActivePlayers({currentPlayer:"playerSelection",minMoves:1,maxMoves:1}):(e.piles[s].length>=5&&(e.players[t.currentPlayer].score+=Xh(e,s),e.piles[s]=[]),e.piles[s].push(i),delete r.resolveOrder,delete r.playedCard,n.endTurn())}else throw ReferenceError(`Player ${t.currentPlayer}'s' played card not found`)},Xh=(e,t)=>e.piles[t].reduce((n,{bulls:r})=>n+r,0),Kg=({G:e,ctx:t,playerID:n,events:r},i)=>{e.players[t.currentPlayer].score+=Xh(e,i),e.piles[i]=[],e.piles[i].push(e.players[t.currentPlayer].playedCard),delete e.players[t.currentPlayer].resolveOrder,delete e.players[t.currentPlayer].playedCard,r.endStage()},Yg=({G:e,ctx:t})=>{if(Object.values(e.players).every(n=>n.hand.length===0&&t.turn>30))return zg(Object.entries(e.players),([n,r])=>r.score)[0]},qg={name:"6Nimmt!",setup:Vg,turn:{minMoves:1,maxMoves:1},phases:{play:{start:!0,turn:{activePlayers:Fy.ALL_ONCE,minMoves:1},moves:{playCard:Hg},endIf:({G:e})=>Object.values(e.players).every(t=>t.playedCard),next:"pileSelection"},pileSelection:{moves:{},turn:{onBegin:Wg,maxMoves:1,order:{...Xd.CUSTOM_FROM("resolveOrder"),next:({ctx:e})=>{if(e.playOrderPos<e.numPlayers-1)return e.playOrderPos+1}},stages:{playerSelection:{moves:{choosePileMove:Kg}}}},next:"play"}},endIf:Yg},Qg=({G:e})=>(console.log(e.players),O("div",{className:"w-32",children:fe("table",{className:"w-full text-lg ",children:[O("tr",{className:"w-full bg-gray-200 font-bold",children:O("th",{colSpan:2,children:"Score"})}),Object.entries(e.players).map(([t,n])=>fe("tr",{className:"w-full bg-gray-100 py-2",children:[fe("td",{className:"pr-4",children:["Player ",t]}),O("td",{children:n.score})]}))]})})),Jg=({card:e,onClick:t,key:n,selected:r})=>O("button",{className:`animate-in fade-in my-1 mx-1 min-w-max rounded ${r?"bg-blue-500":"bg-blue-300"}`,onClick:t,children:O(Ya,{card:e})},n),Xg=({G:e,playerID:t,selectedCard:n,onClick:r})=>O("div",{className:"flex flex-wrap justify-start",children:e.players[t].hand.map((i,s)=>Jg({card:i,onClick:()=>r(s),key:s,selected:s===n}))}),Ya=({card:e,key:t})=>fe("div",{className:"card",children:[O("div",{className:"text-center",children:e.val}),O("div",{className:"text-center",children:e.bulls})]},t||""),Zg=({endTurn:e,disabled:t,phase:n})=>O("button",{className:"btn bg-green-400 disabled:bg-green-200",onClick:e,disabled:t,children:"Confirm"}),e0=({cards:e})=>O("div",{className:"flex py-2 px-1 shadow group-hover:bg-slate-100",children:e.map((t,n)=>O("div",{className:"card mx-1 bg-blue-300 group-hover:bg-blue-400",children:O(Ya,{card:t})},n))}),t0=({cards:e,selectPileMove:t,disabled:n,index:r})=>O("div",{children:O("button",{onClick:t,disabled:n,"aria-label":`pile ${r}`,className:"m-2 p-2"+(n?"":" group"),children:O(e0,{cards:e})})}),n0=({G:e,ctx:t,events:n,playerID:r,moves:i})=>{const[s,o]=ti.exports.useState(null),l=Boolean(t.activePlayers&&r in t.activePlayers),a=t.phase==="play"&&l,u=()=>{t.phase==="play"&&(i.playCard(s,r),o(null))};return fe("div",{className:"space-y-1",children:[O(Xg,{G:e,playerID:r,selectedCard:s,active:a,onClick:h=>{a&&o(h)}}),e.players[r].playedCard&&O("div",{"aria-label":"played card",className:"card bg-purple-200",children:O(Ya,{card:e.players[r].playedCard})}),O("section",{"aria-label":"piles",className:"flex-1 flex-col",children:e.piles.map((h,g)=>O(t0,{cards:h,index:g,selectPileMove:()=>i.choosePileMove(g),disabled:(t.activePlayers||{})[r]!="playerSelection"},g))}),O("div",{className:"flex justify-center",children:O(Zg,{endTurn:u,disabled:!l,phase:t.phase})}),O(Qg,{G:e})]})},Vc=qh({game:qg,board:n0,multiplayer:Rh()}),r0=()=>fe("div",{children:[O("h1",{className:"font-serif",children:"Player 0"}),O(Vc,{playerID:"0"}),O("h1",{children:"Player 1"}),O(Vc,{playerID:"1"})]});const i0=document.getElementById("root");rf.exports.render(O(ht.StrictMode,{children:O(r0,{})}),i0);
